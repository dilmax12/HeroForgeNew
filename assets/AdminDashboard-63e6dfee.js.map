{"version":3,"file":"AdminDashboard-63e6dfee.js","sources":["../../src/components/SupabaseHeroesSyncPanel.tsx","../../src/components/SupabaseQuestsPanel.tsx","../../src/services/backupService.ts","../../src/components/AdminDashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { supabase } from '../lib/supabaseClient';\nimport { useHeroStore } from '../store/heroStore';\nimport { saveHero, listHeroesByUser, StoredHero, getStoredHeroVersion, sanitizeStoredHeroData } from '../services/heroesService';\n\nconst SupabaseHeroesSyncPanel: React.FC = () => {\n  const { getSelectedHero, importHero } = useHeroStore();\n  const selectedHero = getSelectedHero();\n  const [userId, setUserId] = useState<string | null>(null);\n  const [email, setEmail] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [info, setInfo] = useState<string | null>(null);\n  const [heroes, setHeroes] = useState<StoredHero[]>([]);\n\n  useEffect(() => {\n    async function load() {\n      const { data } = await supabase.auth.getUser();\n      const u = data?.user || null;\n      setUserId(u?.id || null);\n      setEmail(u?.email || null);\n    }\n    load();\n    const { data: sub } = supabase.auth.onAuthStateChange((_evt, session) => {\n      setUserId(session?.user?.id || null);\n      setEmail(session?.user?.email || null);\n    });\n    return () => { sub?.subscription.unsubscribe(); };\n  }, []);\n\n  async function handleSaveSelected() {\n    if (!userId || !selectedHero) {\n      setError('√â necess√°rio estar logado e ter um her√≥i selecionado.');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    setInfo(null);\n    try {\n      await saveHero(userId, selectedHero);\n      console.log('[SupabaseHeroesSyncPanel] Her√≥i salvo no Supabase');\n      setInfo('Her√≥i salvo com sucesso.');\n    } catch (err: any) {\n      setError(err?.message || String(err));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleListHeroes() {\n    if (!userId) {\n      setError('Fa√ßa login para listar seus her√≥is.');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    setInfo(null);\n    try {\n      const list = await listHeroesByUser(userId);\n      setHeroes(list);\n      console.log('[SupabaseHeroesSyncPanel] Her√≥is listados do Supabase', list?.length ?? 0);\n      setInfo(`Her√≥is carregados (${list?.length ?? 0}).`);\n    } catch (err: any) {\n      setError(err?.message || String(err));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function handleImportHero(h: StoredHero) {\n    try {\n      const sanitized = sanitizeStoredHeroData(h.data);\n      const ok = importHero(sanitized, true);\n      if (!ok) setError('Falha ao importar her√≥i.');\n      if (ok) {\n        console.log('[SupabaseHeroesSyncPanel] Her√≥i importado para o jogo', h.id);\n        setInfo('Her√≥i importado com sucesso.');\n      }\n    } catch (err: any) {\n      setError(err?.message || String(err));\n    }\n  }\n\n  function handleImportAll() {\n    try {\n      heroes.forEach(h => {\n        const sanitized = sanitizeStoredHeroData(h.data);\n        importHero(sanitized, false);\n      });\n      console.log('[SupabaseHeroesSyncPanel] Todos os her√≥is importados para o jogo');\n      setInfo('Todos os her√≥is importados.');\n    } catch (err: any) {\n      setError(err?.message || String(err));\n    }\n  }\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg border border-gray-200 mb-6\">\n      <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üóÉÔ∏è Supabase Heroes Sync</h2>\n      <div className=\"text-sm text-gray-700 mb-2\">Usu√°rio: {email ? `${email} (id: ${userId})` : '‚Äî'}</div>\n      <div className=\"flex flex-wrap gap-2 mb-3\">\n        <button\n          onClick={handleSaveSelected}\n          className=\"px-3 py-2 bg-white text-blue-700 border border-blue-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n          disabled={loading || !selectedHero || !userId}\n          title={!userId ? 'Fa√ßa login para salvar' : !selectedHero ? 'Selecione um her√≥i' : ''}\n        >\n          {loading ? 'Salvando...' : 'Salvar her√≥i selecionado no Supabase'}\n        </button>\n        <button\n          onClick={handleListHeroes}\n          className=\"px-3 py-2 bg-white text-green-700 border border-green-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n          disabled={loading || !userId}\n          title={!userId ? 'Fa√ßa login para listar' : ''}\n        >\n          {loading ? 'Carregando...' : 'Listar her√≥is do Supabase'}\n        </button>\n        <button\n          onClick={handleImportAll}\n          className=\"px-3 py-2 bg-white text-amber-700 border border-amber-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n          disabled={loading || heroes.length === 0}\n          title={heroes.length === 0 ? 'Liste her√≥is para importar' : ''}\n        >\n          Importar todos para o jogo\n        </button>\n      </div>\n      {error && (\n        <div className=\"text-sm text-red-700 bg-red-50 border border-red-200 rounded p-2 mb-3\">Erro: {error}</div>\n      )}\n      {info && (\n        <div className=\"text-sm text-green-700 bg-green-50 border border-green-200 rounded p-2 mb-3\">{info}</div>\n      )}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\n        {heroes.length === 0 && (\n          <div className=\"text-xs text-gray-500\">Nenhum her√≥i listado ainda.</div>\n        )}\n        {heroes.map((h) => (\n          <div key={h.id} className=\"bg-white p-3 rounded border border-gray-200\">\n            <div className=\"text-xs text-gray-500\">id: {h.id}</div>\n            <div className=\"text-xs text-gray-500\">user_id: {h.user_id}</div>\n            <div className=\"text-xs text-gray-500\">vers√£o: {String(getStoredHeroVersion(h.data))}</div>\n            <div className=\"text-sm text-gray-900\">nome: {String(h?.data?.name || '‚Äî')}</div>\n            <div className=\"text-xs text-gray-500\">classe: {String(h?.data?.class || '‚Äî')}</div>\n            <div className=\"text-xs text-gray-500\">n√≠vel: {String(h?.data?.progression?.level ?? h?.data?.level ?? '‚Äî')}</div>\n            <div className=\"mt-2\">\n              <button\n                onClick={() => handleImportHero(h)}\n                className=\"px-3 py-1 bg-white text-amber-700 border border-amber-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              >\n                Importar este her√≥i\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n      <div className=\"text-xs text-gray-500 mt-2\">Requer tabela `heroes` com colunas: id (PK), user_id, data (jsonb), timestamps.</div>\n    </div>\n  );\n};\n\nexport default SupabaseHeroesSyncPanel;\n","import React, { useEffect, useState } from 'react';\nimport { supabase } from '../lib/supabaseClient';\nimport { useHeroStore } from '../store/heroStore';\nimport { saveQuest, listQuestsByHero, StoredQuest } from '../services/questsService';\n\nconst SupabaseQuestsPanel: React.FC = () => {\n  const { getSelectedHero, getHeroQuests } = useHeroStore();\n  const selectedHero = getSelectedHero();\n  const activeQuests = selectedHero ? getHeroQuests(selectedHero.id) : [];\n  const [userId, setUserId] = useState<string | null>(null);\n  const [email, setEmail] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [quests, setQuests] = useState<StoredQuest[]>([]);\n\n  useEffect(() => {\n    async function load() {\n      const { data } = await supabase.auth.getUser();\n      const u = data?.user || null;\n      setUserId(u?.id || null);\n      setEmail(u?.email || null);\n    }\n    load();\n    const { data: sub } = supabase.auth.onAuthStateChange((_evt, session) => {\n      setUserId(session?.user?.id || null);\n      setEmail(session?.user?.email || null);\n    });\n    return () => { sub?.subscription.unsubscribe(); };\n  }, []);\n\n  async function handleSaveActiveQuests() {\n    if (!userId || !selectedHero) {\n      setError('√â necess√°rio estar logado e ter um her√≥i selecionado.');\n      return;\n    }\n    if (activeQuests.length === 0) {\n      setError('Nenhuma miss√£o ativa para salvar.');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      for (const q of activeQuests) {\n        await saveQuest(userId, selectedHero.id, q, 'active');\n      }\n    } catch (err: any) {\n      setError(err?.message || String(err));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleListQuests() {\n    if (!userId || !selectedHero) {\n      setError('Fa√ßa login e selecione um her√≥i.');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const list = await listQuestsByHero(userId, selectedHero.id);\n      setQuests(list);\n    } catch (err: any) {\n      setError(err?.message || String(err));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg border border-gray-200 mb-6\">\n      <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üìú Supabase Quests</h2>\n      <div className=\"text-sm text-gray-700 mb-2\">Usu√°rio: {email ? `${email} (id: ${userId})` : '‚Äî'}</div>\n      <div className=\"text-sm text-gray-700 mb-2\">Her√≥i selecionado: {selectedHero ? `${selectedHero.name} (id: ${selectedHero.id})` : '‚Äî'}</div>\n      <div className=\"flex flex-wrap gap-2 mb-3\">\n        <button\n          onClick={handleSaveActiveQuests}\n          className=\"px-3 py-2 bg-white text-blue-700 border border-blue-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n          disabled={loading || !userId || !selectedHero || activeQuests.length === 0}\n        >\n          {loading ? 'Salvando...' : 'Salvar miss√µes ativas no Supabase'}\n        </button>\n        <button\n          onClick={handleListQuests}\n          className=\"px-3 py-2 bg-white text-green-700 border border-green-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n          disabled={loading || !userId || !selectedHero}\n        >\n          {loading ? 'Carregando...' : 'Listar miss√µes do Supabase'}\n        </button>\n      </div>\n      {error && (\n        <div className=\"text-sm text-red-700 bg-red-50 border border-red-200 rounded p-2 mb-3\">Erro: {error}</div>\n      )}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\n        {quests.length === 0 && (\n          <div className=\"text-xs text-gray-500\">Nenhuma miss√£o listada ainda.</div>\n        )}\n        {quests.map((q) => (\n          <div key={q.id} className=\"bg-white p-3 rounded border border-gray-200\">\n            <div className=\"text-xs text-gray-500\">id: {q.id}</div>\n            <div className=\"text-xs text-gray-500\">hero_id: {q.hero_id}</div>\n            <div className=\"text-xs text-gray-500\">status: {q.status || '‚Äî'}</div>\n            <div className=\"text-sm text-gray-900\">t√≠tulo: {String(q?.data?.title || '‚Äî')}</div>\n            <div className=\"text-xs text-gray-500\">dificuldade: {String(q?.data?.difficulty || '‚Äî')}</div>\n            <div className=\"text-xs text-gray-500\">n√≠vel req: {String(q?.data?.levelRequirement ?? '‚Äî')}</div>\n          </div>\n        ))}\n      </div>\n      <div className=\"text-xs text-gray-500 mt-2\">Requer tabela `quests` com colunas: id (PK), user_id, hero_id, data (jsonb), status, timestamps.</div>\n    </div>\n  );\n};\n\nexport default SupabaseQuestsPanel;\n\n","export async function triggerBackup(): Promise<{ ok: boolean; file?: string; size?: number; error?: string }> {\n  try {\n    const res = await fetch('/api/backup', { method: 'GET' });\n    const data = await res.json();\n    if (!res.ok) return { ok: false, error: data?.error || 'Falha ao iniciar backup' };\n    return { ok: true, file: data.file, size: data.size };\n  } catch (err: any) {\n    return { ok: false, error: err?.message || String(err) };\n  }\n}","import React, { useMemo, useEffect, useState } from 'react';\nimport { useMonetizationStore } from '../store/monetizationStore';\nimport { seasonalThemes, getSeasonalButtonGradient } from '../styles/medievalTheme';\nimport { useHeroStore } from '../store/heroStore';\nimport { SHOP_ITEMS } from '../utils/shop';\nimport { useGameSettingsStore } from '../store/gameSettingsStore';\nimport { metricsManager } from '../utils/metricsSystem';\nimport { aiService } from '../services/aiService';\nimport { supabase } from '../lib/supabaseClient';\nimport SupabaseHeroesSyncPanel from './SupabaseHeroesSyncPanel';\nimport SupabaseQuestsPanel from './SupabaseQuestsPanel';\nimport { triggerBackup } from '../services/backupService';\n\nexport default function AdminDashboard() {\n  const heroes = useHeroStore(s => s.heroes);\n  const selectedHeroId = useHeroStore(s => s.selectedHeroId);\n  const getSelectedHero = useHeroStore(s => s.getSelectedHero);\n  const removeHero = useHeroStore(s => s.removeHero);\n  const resetDailyGoals = useHeroStore(s => s.resetDailyGoals);\n  const gainXP = useHeroStore(s => s.gainXP);\n  const gainGold = useHeroStore(s => s.gainGold);\n  const availableQuests = useHeroStore(s => s.availableQuests);\n  const addItemToInventory = useHeroStore(s => s.addItemToInventory);\n  const sellItem = useHeroStore(s => s.sellItem);\n  const refreshQuests = useHeroStore(s => s.refreshQuests);\n  const selectedHero = getSelectedHero();\n  const seedRandomHatred = useHeroStore(s => (s as any).seedRandomHatred);\n\n  // Settings\n  const settings = useGameSettingsStore(s => ({\n    regenHpPerMin: s.regenHpPerMin,\n    regenMpPerMin: s.regenMpPerMin,\n    regenStaminaPerMin: s.regenStaminaPerMin,\n    deathRecoveryMinutes: s.deathRecoveryMinutes,\n    deathPenaltyEnabled: s.deathPenaltyEnabled,\n    restBuffHpMpMultiplier: s.restBuffHpMpMultiplier,\n    restBuffStaminaMultiplier: s.restBuffStaminaMultiplier,\n    restBuffDurationMinutes: s.restBuffDurationMinutes,\n    meditationMpBonusPerMin: s.meditationMpBonusPerMin,\n    meditationDurationMinutes: s.meditationDurationMinutes,\n    meditationCooldownMinutes: s.meditationCooldownMinutes,\n    dungeonRegenMultiplier: s.dungeonRegenMultiplier,\n  }));\n  const updateSettings = useGameSettingsStore(s => s.updateSettings);\n  const npcSettings = useGameSettingsStore(s => ({\n    npcInteractionDifficulty: s.npcInteractionDifficulty,\n    npcNotificationsMode: s.npcNotificationsMode,\n    npcNotifyMaxPerTick: s.npcNotifyMaxPerTick,\n    npcRelationKnownThreshold: s.npcRelationKnownThreshold,\n    npcRelationFriendThreshold: s.npcRelationFriendThreshold,\n    npcRelationBestFriendThreshold: s.npcRelationBestFriendThreshold,\n    npcDuelRivalryModerate: s.npcDuelRivalryModerate,\n    npcDuelRivalryHigh: s.npcDuelRivalryHigh,\n    npcDuelLevelDiffMax: s.npcDuelLevelDiffMax,\n    npcInteractionCooldownSeconds: s.npcInteractionCooldownSeconds,\n    npcSeedTarget: s.npcSeedTarget,\n    npcVisibleCap: s.npcVisibleCap,\n    npcRotationSeconds: s.npcRotationSeconds,\n  }));\n\n  const stats = useMemo(() => ({\n    heroes: heroes.length,\n    selected: selectedHero ? selectedHero.name : '‚Äî',\n    level: selectedHero ? selectedHero.progression.level : 0,\n  }), [heroes.length, selectedHero?.name, selectedHero?.progression.level]);\n\n  const { activeSeasonalTheme } = useMonetizationStore();\n\n  // M√©tricas\n  const [engagement, setEngagement] = useState(() => metricsManager.getEngagementMetrics());\n  const [gameplay, setGameplay] = useState(() => metricsManager.getGameplayAnalytics());\n  const [aiUsage, setAiUsage] = useState(() => aiService.getUsageStats());\n  const [events, setEvents] = useState(() => metricsManager.getEvents());\n  const [sessions, setSessions] = useState(() => metricsManager.getSessions());\n  const [selectedTimeframe, setSelectedTimeframe] = useState<'today' | 'week' | 'all'>('today');\n  const [lastRefresh, setLastRefresh] = useState<string>(new Date().toLocaleString());\n  const [autoRefresh, setAutoRefresh] = useState<boolean>(true);\n  useEffect(() => {\n    const refresh = () => {\n      setEngagement(metricsManager.getEngagementMetrics());\n      setGameplay(metricsManager.getGameplayAnalytics());\n      setAiUsage(aiService.getUsageStats());\n      setEvents(metricsManager.getEvents());\n      setSessions(metricsManager.getSessions());\n      setLastRefresh(new Date().toLocaleString());\n    };\n    refresh();\n    if (!autoRefresh) return;\n    const interval = setInterval(refresh, 30000);\n    return () => clearInterval(interval);\n  }, [autoRefresh]);\n\n  // === Supabase: teste de conex√£o r√°pida ===\n  const [sbLoading, setSbLoading] = useState<boolean>(false);\n  const [sbStatus, setSbStatus] = useState<string>('‚Äî');\n  const [sbError, setSbError] = useState<string | null>(null);\n  const [sbPlayers, setSbPlayers] = useState<any[]>([]);\n  const [backupStatus, setBackupStatus] = useState<string>('‚Äî');\n  const [progressLoading, setProgressLoading] = useState(false);\n  const [progressError, setProgressError] = useState<string | null>(null);\n  const [playerProgress, setPlayerProgress] = useState<{ missions_completed: number; achievements_unlocked: number; playtime_minutes: number; last_login?: string | null } | null>(null);\n  const [playerProfile, setPlayerProfile] = useState<any | null>(null);\n  const [adminToken, setAdminToken] = useState('');\n  const [logFiles, setLogFiles] = useState<any[]>([]);\n  const [logPreview, setLogPreview] = useState<string>('‚Äî');\n  const [logType, setLogType] = useState<string>('');\n  const [logOffset, setLogOffset] = useState<number>(0);\n  const [exportUserStatus, setExportUserStatus] = useState<string>('‚Äî');\n  async function importLocalToCloud() {\n    try {\n      const { data } = await supabase.auth.getUser();\n      const userId = data?.user?.id || null;\n      if (!userId) {\n        alert('Fa√ßa login para importar seus dados');\n        return;\n      }\n      const heroes = loadLocalHeroes(userId);\n      const quests = loadLocalQuests(userId);\n      let hCount = 0;\n      for (const h of heroes) {\n        const saved = await fetch('/api/hero-create', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ user_id: userId, hero: h }) });\n        if (saved.ok) hCount++;\n      }\n      let qCount = 0;\n      for (const q of quests) {\n        const res = await fetch('/api/missions?action=generate', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ user_id: userId, hero_id: q.heroId, prompt: q.data?.prompt || 'Miss√£o importada', context: q.data || {} }) });\n        if (res.ok) qCount++;\n      }\n      alert(`Importa√ß√£o conclu√≠da: ${hCount} her√≥i(s), ${qCount} miss√£o(√µes).`);\n    } catch (e: any) {\n      alert(e?.message || String(e));\n    }\n  }\n\n  async function testSupabase() {\n    setSbLoading(true);\n    setSbError(null);\n    setSbStatus('Conectando...');\n    try {\n      const { data, error } = await supabase.from('players').select('*').limit(5);\n      if (error) throw error;\n      setSbPlayers(Array.isArray(data) ? data : []);\n      setSbStatus(`OK (${(Array.isArray(data) ? data.length : 0)} players)`);\n    } catch (err: any) {\n      setSbError(err?.message || String(err));\n      setSbStatus('Erro');\n    } finally {\n      setSbLoading(false);\n    }\n  }\n\n  async function runBackup() {\n    setBackupStatus('Executando...');\n    const resp = await triggerBackup();\n    if (resp.ok) {\n      setBackupStatus(`OK (${resp.file})`);\n    } else {\n      setBackupStatus(`Erro: ${resp.error}`);\n    }\n  }\n\n  async function fetchPlayerProgress() {\n    setProgressLoading(true);\n    setProgressError(null);\n    try {\n      const { data } = await supabase.auth.getUser();\n      const userId = data?.user?.id || null;\n      if (!userId) {\n        setProgressError('Fa√ßa login para ver seu progresso.');\n        setPlayerProgress(null);\n      } else {\n        const res = await fetch(`/api/player-progress?action=get&id=${encodeURIComponent(userId)}`);\n        const json = await res.json();\n        if (!res.ok) throw new Error(json?.error || 'Falha ao carregar progresso');\n        setPlayerProgress(json?.progress || null);\n        const res2 = await fetch(`/api/users?action=get&id=${encodeURIComponent(userId)}`);\n        const json2 = await res2.json();\n        if (res2.ok) setPlayerProfile(json2?.profile || null);\n      }\n    } catch (e: any) {\n      setProgressError(e?.message || String(e));\n      setPlayerProgress(null);\n    } finally {\n      setProgressLoading(false);\n    }\n  }\n\n  async function fetchLogs() {\n    try {\n      const qs = new URLSearchParams();\n      if (logType) qs.set('type', logType);\n      qs.set('limit', '20');\n      qs.set('offset', String(logOffset));\n      const { data: sessData } = await supabase.auth.getSession();\n      const sessionToken = sessData?.session?.access_token || '';\n      const headers: Record<string, string> = {};\n      if (sessionToken) headers['Authorization'] = `Bearer ${sessionToken}`;\n      if (adminToken) headers['x-admin-token'] = adminToken;\n      const res = await fetch(`/api/logs?${qs.toString()}`, { headers });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data?.error || 'Falha ao listar logs');\n      setLogFiles(Array.isArray(data?.files) ? data.files : []);\n    } catch (e: any) {\n      setLogFiles([]);\n      console.error('fetchLogs error', e?.message || String(e));\n    }\n  }\n\n  async function fetchLogContent(name: string) {\n    try {\n      const { data: sessData } = await supabase.auth.getSession();\n      const sessionToken = sessData?.session?.access_token || '';\n      const headers: Record<string, string> = {};\n      if (sessionToken) headers['Authorization'] = `Bearer ${sessionToken}`;\n      if (adminToken) headers['x-admin-token'] = adminToken;\n      const res = await fetch(`/api/logs?action=get&name=${encodeURIComponent(name)}`, { headers });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data?.error || 'Falha ao obter log');\n      const content = data?.json ? JSON.stringify(data.json, null, 2) : (data?.content || '‚Äî');\n      setLogPreview(content);\n    } catch (e: any) {\n      setLogPreview(e?.message || String(e));\n    }\n  }\n\n  async function exportUserData() {\n    try {\n      setExportUserStatus('Exportando...');\n      const { data } = await supabase.auth.getUser();\n      const userId = data?.user?.id || null;\n      if (!userId) { setExportUserStatus('Sem login'); return; }\n      const { data: sessData } = await supabase.auth.getSession();\n      const sessionToken = sessData?.session?.access_token || '';\n      const headers: Record<string, string> = {};\n      if (sessionToken) headers['Authorization'] = `Bearer ${sessionToken}`;\n      if (adminToken) headers['x-admin-token'] = adminToken;\n      const res = await fetch(`/api/export-user?id=${encodeURIComponent(userId)}`, { headers });\n      const txt = await res.text();\n      if (!res.ok) { setExportUserStatus('Erro'); return; }\n      const blob = new Blob([txt], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url; a.download = `hfn-user-${userId}-${Date.now()}.json`; a.click();\n      URL.revokeObjectURL(url);\n      setExportUserStatus('OK');\n    } catch (e: any) {\n      setExportUserStatus(e?.message || 'Erro');\n    }\n  }\n\n  function exportSelected() {\n    if (!selectedHero) return;\n    const blob = new Blob([JSON.stringify(selectedHero, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `hero-${selectedHero.name}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n\n  function clearStorage() {\n    try {\n      localStorage.clear();\n      window.location.reload();\n    } catch {}\n  }\n\n  function removeSelected() {\n    if (!selectedHero) return;\n    removeHero(selectedHero.id);\n  }\n\n  const classStats = useMemo(() => {\n    const counts: Record<string, number> = {};\n    const levelSum: Record<string, number> = {};\n    const attrSum: Record<string, { forca: number; destreza: number; constituicao: number; inteligencia: number; sabedoria: number; carisma: number }> = {};\n    heroes.forEach(h => {\n      const key = h.class;\n      counts[key] = (counts[key] || 0) + 1;\n      levelSum[key] = (levelSum[key] || 0) + (h.progression?.level || h.level || 1);\n      const a = h.attributes;\n      attrSum[key] = attrSum[key] || { forca: 0, destreza: 0, constituicao: 0, inteligencia: 0, sabedoria: 0, carisma: 0 };\n      attrSum[key].forca += a.forca;\n      attrSum[key].destreza += a.destreza;\n      attrSum[key].constituicao += a.constituicao;\n      attrSum[key].inteligencia += a.inteligencia;\n      attrSum[key].sabedoria += a.sabedoria;\n      attrSum[key].carisma += a.carisma;\n    });\n    const entries = Object.keys(counts).map(cls => ({\n      cls,\n      count: counts[cls],\n      avgLevel: counts[cls] ? Math.round((levelSum[cls] || 0) / counts[cls]) : 0,\n      avgAttrs: counts[cls]\n        ? Object.fromEntries(Object.entries(attrSum[cls]).map(([k, v]) => [k, Math.round(v / counts[cls])]))\n        : { forca: 0, destreza: 0, constituicao: 0, inteligencia: 0, sabedoria: 0, carisma: 0 }\n    }));\n    entries.sort((a, b) => b.count - a.count);\n    return entries;\n  }, [heroes]);\n\n  const missionStats = useMemo(() => {\n    const totalCompleted = heroes.reduce((sum, h) => sum + (h.stats?.questsCompleted || 0), 0);\n    const avgCompletedPerHero = heroes.length ? Math.round(totalCompleted / heroes.length) : 0;\n    const avgActivePerHero = heroes.length ? Math.round(heroes.reduce((s, h) => s + (h.activeQuests?.length || 0), 0) / heroes.length) : 0;\n    const guildQuestsAvailable = (availableQuests || []).filter(q => q.isGuildQuest).length;\n    return { totalCompleted, avgCompletedPerHero, avgActivePerHero, guildQuestsAvailable };\n  }, [heroes, availableQuests]);\n\n  const economyStats = useMemo(() => {\n    const totalGold = heroes.reduce((sum, h) => sum + (h.progression?.gold || 0), 0);\n    const avgGold = heroes.length ? Math.round(totalGold / heroes.length) : 0;\n    const itemCounts: Record<string, number> = {};\n    heroes.forEach(h => {\n      const items = h.inventory?.items || {};\n      Object.entries(items).forEach(([id, qty]) => {\n        itemCounts[id] = (itemCounts[id] || 0) + (qty || 0);\n      });\n    });\n    const topItems = Object.entries(itemCounts)\n      .sort((a, b) => (b[1] as number) - (a[1] as number))\n      .slice(0, 5);\n    return { totalGold, avgGold, topItems };\n  }, [heroes]);\n\n  const cycles = useMemo(() => {\n    const h = selectedHero;\n    const hpMax = h?.derivedAttributes.hp || 0;\n    const hpCur = h?.derivedAttributes.currentHp ?? hpMax;\n    const mpMax = h?.derivedAttributes.mp || 0;\n    const mpCur = h?.derivedAttributes.currentMp ?? mpMax;\n    const stMax = (h?.stamina as any)?.max ?? 100;\n    const stCur = (h?.stamina as any)?.current ?? ((h?.stamina as any) ?? 0);\n    const hpToFull = hpMax > hpCur ? Math.ceil((hpMax - hpCur) / Math.max(1, settings.regenHpPerMin)) : 0;\n    const mpToFull = mpMax > mpCur ? Math.ceil((mpMax - mpCur) / Math.max(1, settings.regenMpPerMin)) : 0;\n    const stToFullBase = stMax > stCur ? Math.ceil((stMax - stCur) / Math.max(1, settings.regenStaminaPerMin)) : 0;\n    const stRecoveryInDungeon15 = Math.max(0, Math.min(stMax, Math.floor(settings.regenStaminaPerMin * 15)));\n    return {\n      hpToFull,\n      mpToFull,\n      stToFullBase,\n      stRecoveryInDungeon15,\n      questCd: { rapida: 10, padrao: 20, epica: 50 },\n      huntingCdByRank: { F: 8, E: 12, D: 15, C: 20, B: 25, A: 30, S: 40 },\n      dungeonCd: 15\n    };\n  }, [selectedHero?.id, selectedHero?.derivedAttributes?.hp, selectedHero?.derivedAttributes?.currentHp, selectedHero?.derivedAttributes?.mp, selectedHero?.derivedAttributes?.currentMp, (selectedHero?.stamina as any)?.current, (selectedHero?.stamina as any)?.max, settings.regenHpPerMin, settings.regenMpPerMin, settings.regenStaminaPerMin]);\n\n  const [adjustments, setAdjustments] = useState({ xp: 100, gold: 100 });\n  function applyAdjustments() {\n    if (!selectedHero) return;\n    if (adjustments.xp) gainXP(selectedHero.id, adjustments.xp);\n    if (adjustments.gold) gainGold(selectedHero.id, adjustments.gold);\n  }\n\n  function forceQuestRefresh() {\n    const lvl = selectedHero?.progression?.level || 1;\n    refreshQuests(lvl);\n  }\n\n  // === Exporta√ß√µes (CSV/JSON) ===\n  function exportKPIJson() {\n    const kpi = metricsManager.getKPIDashboard();\n    const blob = new Blob([JSON.stringify(kpi, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `kpi-dashboard.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n\n  function exportKPICsv() {\n    const kpi = metricsManager.getKPIDashboard();\n    const rows: Array<string[]> = [];\n    rows.push(['section', 'key', 'value']);\n    const pushObj = (section: string, obj: any) => {\n      Object.entries(obj || {}).forEach(([k, v]) => {\n        if (v && typeof v === 'object' && !Array.isArray(v)) {\n          Object.entries(v).forEach(([k2, v2]) => rows.push([section, `${k}.${k2}`, String(v2)]));\n        } else if (Array.isArray(v)) {\n          rows.push([section, k, JSON.stringify(v)]);\n        } else {\n          rows.push([section, k, String(v)]);\n        }\n      });\n    };\n    pushObj('overview', kpi.overview);\n    pushObj('engagement', kpi.engagement);\n    pushObj('gameplay', kpi.gameplay);\n    pushObj('performance', kpi.performance);\n    pushObj('trends', kpi.trends);\n    const csv = rows.map(r => r.map(v => `\"${String(v).replace(/\"/g, '\"\"')}` + '\"').join(',')).join('\\n');\n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `kpi-dashboard.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n\n  // Exporta√ß√£o unificada no estilo do Playtest\n  function exportUnifiedMetrics() {\n    const kpi = metricsManager.getKPIDashboard();\n    const data = {\n      timestamp: new Date().toISOString(),\n      timeframe: selectedTimeframe,\n      kpi,\n      engagement,\n      gameplay,\n      aiUsage,\n      sessions,\n      heroes: heroes.map(h => ({\n        id: h.id,\n        name: h.name,\n        class: h.class,\n        level: h.progression?.level || h.level || 1,\n        questsCompleted: h.stats?.questsCompleted || 0,\n        totalCombats: h.stats?.totalCombats || 0,\n        gold: h.progression?.gold || 0,\n        createdAt: h.createdAt,\n        updatedAt: h.updatedAt,\n      })),\n    };\n\n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `hero-forge-unified-metrics-${new Date().toISOString().split('T')[0]}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n\n  const [tmpNpc, setTmpNpc] = useState<any>({});\n  function applyNpcSettings() { updateSettings(tmpNpc); setTmpNpc({}); }\n\n  // === Alertas (exemplo: Masmorra da N√©voa) ===\n  const [dungeonName, setDungeonName] = useState('Masmorra da N√©voa');\n  const dungeonFailRate = useMemo(() => {\n    const relevantStarts = events.filter(e => e.eventType === 'quest-started' && e.data?.dungeonName === dungeonName);\n    const relevantFails = events.filter(e => e.eventType === 'quest-failed' && e.data?.dungeonName === dungeonName);\n    const total = relevantStarts.length || (relevantFails.length + events.filter(e => e.eventType === 'quest-completed' && e.data?.dungeonName === dungeonName).length);\n    if (total === 0) return 0;\n    return relevantFails.length / total;\n  }, [events, dungeonName]);\n\n  // === Sandbox de Simula√ß√£o ===\n  const [simCount, setSimCount] = useState(50);\n  function runSandbox() {\n    const heroId = selectedHero?.id || `sandbox-${Math.random().toString(36).slice(2, 7)}`;\n    for (let i = 0; i < simCount; i++) {\n      metricsManager.trackEvent('page-visited', heroId, { page: '/masmorra' });\n      metricsManager.trackEvent('quest-started', heroId, { questName: 'Masmorra da N√©voa', dungeonName });\n      const failed = Math.random() < 0.65; // intencional para testar alerta\n      if (failed) {\n        metricsManager.trackEvent('quest-failed', heroId, { questName: 'Masmorra da N√©voa', dungeonName, difficulty: 'alto', failure_rate: 0.65 });\n      } else {\n        metricsManager.trackEvent('quest-completed', heroId, { questName: 'Masmorra da N√©voa', dungeonName });\n        metricsManager.trackEvent('xp-gained', heroId, { amount: Math.floor(Math.random() * 120) + 30 });\n        metricsManager.trackEvent('gold-gained', heroId, { amount: Math.floor(Math.random() * 60) });\n      }\n    }\n    setEngagement(metricsManager.getEngagementMetrics());\n    setGameplay(metricsManager.getGameplayAnalytics());\n    setEvents(metricsManager.getEvents());\n  }\n\n  // === Relat√≥rio IA ‚ÄúForjador‚Äù ===\n  const [aiPrompt, setAiPrompt] = useState('Gere um relat√≥rio semanal com tom de ferreiro medieval.');\n  const [aiReport, setAiReport] = useState('');\n  const [aiLog, setAiLog] = useState<Array<{ timestamp: string; prompt: string; report: string }>>(() => {\n    try {\n      const saved = localStorage.getItem('admin-ai-reports-log');\n      return saved ? JSON.parse(saved) : [];\n    } catch { return []; }\n  });\n\n  const [itemSearch, setItemSearch] = useState('');\n  const [itemQty, setItemQty] = useState(1);\n  const filteredItems = useMemo(() => {\n    const q = itemSearch.trim().toLowerCase();\n    const seen = new Set<string>();\n    const list = SHOP_ITEMS.filter(i => {\n      if (seen.has(i.id)) return false;\n      seen.add(i.id);\n      if (!q) return true;\n      return i.id.toLowerCase().includes(q) || String(i.name || '').toLowerCase().includes(q);\n    });\n    return list;\n  }, [itemSearch]);\n\n  async function generateAIReport() {\n    const kpi = metricsManager.getKPIDashboard();\n    const context = `Resumo:\nDAU: ${kpi.engagement.dailyActiveUsers}, WAU: ${kpi.engagement.weeklyActiveUsers}, MAU: ${kpi.engagement.monthlyActiveUsers}\nReten√ß√£o7: ${(kpi.engagement.retentionRate.day7 * 100).toFixed(1)}%, Reten√ß√£o30: ${(kpi.engagement.retentionRate.day30 * 100).toFixed(1)}%\nMiss√µes: ${kpi.gameplay.totalQuestsCompleted}, XP: ${kpi.gameplay.totalXpGained}, Ouro: ${kpi.gameplay.totalGoldEarned}\nClasse Popular: ${kpi.gameplay.mostPopularClass}\nFalha na ${dungeonName}: ${(dungeonFailRate * 100).toFixed(1)}%`;\n\n    const systemMsg = 'Voc√™ √© o Forjador, narrador medieval que analisa m√©tricas de um reino de her√≥is. Escreva com voz tem√°tica, clara e √∫til para administra√ß√£o do jogo. Seja conciso e coloque recomenda√ß√µes pr√°ticas.';\n    try {\n      const resp = await aiService.generateText({ prompt: aiPrompt, context, systemMessage: systemMsg, maxTokens: 600, temperature: 0.7 });\n      const text = resp?.text || '';\n      setAiReport(text);\n      const entry = { timestamp: new Date().toISOString(), prompt: `${systemMsg}\\n${aiPrompt}\\n${context}`, report: text };\n      const next = [entry, ...aiLog].slice(0, 20);\n      setAiLog(next);\n      localStorage.setItem('admin-ai-reports-log', JSON.stringify(next));\n    } catch (e: any) {\n      const fallback = `Os Arqueiros prosperam, mas os Magos sofrem nas sombras. Reten√ß√£o em ${(kpi.engagement.retentionRate.day7 * 100).toFixed(1)}%. Falhas altas em ${dungeonName} (${(dungeonFailRate * 100).toFixed(1)}%). Ajuste dificuldade e ofertas de po√ß√µes.`;\n      setAiReport(fallback);\n    }\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-6 space-y-6\">\n      {/* Header do Painel Admin */}\n      <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold mb-2\">üìä Painel Admin</h1>\n            <p className=\"text-lg opacity-90\">M√©tricas e an√°lises do Hero Forge</p>\n            <p className=\"text-xs opacity-90 mt-1\">√öltima atualiza√ß√£o: {lastRefresh}</p>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <select\n              value={selectedTimeframe}\n              onChange={(e) => setSelectedTimeframe(e.target.value as any)}\n              className=\"bg-white text-gray-800 px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n            >\n              <option value=\"today\">Hoje</option>\n              <option value=\"week\">√öltima Semana</option>\n              <option value=\"all\">Todos os Tempos</option>\n            </select>\n            <button\n              onClick={() => setAutoRefresh(!autoRefresh)}\n              className={`px-3 py-2 rounded font-medium border transition-colors ${autoRefresh ? 'bg-white text-indigo-600 border-indigo-300 hover:bg-gray-100' : 'bg-white text-gray-800 border-gray-300 hover:bg-gray-100'} focus:outline-none focus:ring-2 focus:ring-indigo-500`}\n            >\n              {autoRefresh ? 'üîÑ Auto' : '‚èπÔ∏è Manual'}\n            </button>\n            <button\n              onClick={exportUnifiedMetrics}\n              className=\"bg-white text-indigo-600 px-4 py-2 rounded border border-indigo-300 hover:bg-gray-100 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n            >\n              üì• Exportar Dados\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Cards principais no estilo Playtest */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <div className=\"bg-white p-6 rounded-lg border border-gray-200 min-h-[120px]\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Total de Her√≥is</p>\n              <p className=\"text-3xl font-bold text-blue-600\">{stats.heroes}</p>\n            </div>\n            <div className=\"text-4xl\">üë•</div>\n          </div>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg border border-gray-200 min-h-[120px]\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Selecionado</p>\n              <p className=\"text-xl font-semibold text-gray-900 truncate\">{stats.selected}</p>\n            </div>\n            <div className=\"text-4xl\">üéØ</div>\n          </div>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg border border-gray-200 min-h-[120px]\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">N√≠vel</p>\n              <p className=\"text-3xl font-bold text-green-600\">{stats.level}</p>\n            </div>\n            <div className=\"text-4xl\">‚¨ÜÔ∏è</div>\n          </div>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg border border-gray-200 min-h-[120px]\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">DAU / Reten√ß√£o7</p>\n              <p className=\"text-lg font-semibold text-gray-900\">\n                {engagement?.dailyActiveUsers || 0} / {(engagement?.retentionRate?.day7 || 0) * 100}%\n              </p>\n            </div>\n            <div className=\"text-4xl\">üìà</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Progresso do Jogador */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mb-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üéÆ Seu Progresso</h2>\n        <div className=\"flex items-center gap-2 mb-3\">\n          <button onClick={fetchPlayerProgress} className=\"px-3 py-2 bg-white text-indigo-700 border border-indigo-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\">\n            {progressLoading ? 'Carregando...' : 'Atualizar agora'}\n          </button>\n          {progressError && (\n            <div className=\"text-sm text-red-700 bg-red-50 border border-red-200 rounded px-2 py-1\">{progressError}</div>\n          )}\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Miss√µes conclu√≠das</div>\n            <div className=\"text-2xl text-gray-900\">{playerProgress?.missions_completed ?? '‚Äî'}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Conquistas</div>\n            <div className=\"text-2xl text-gray-900\">{playerProgress?.achievements_unlocked ?? '‚Äî'}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Tempo de jogo (min)</div>\n            <div className=\"text-2xl text-gray-900\">{playerProgress?.playtime_minutes ?? '‚Äî'}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">√öltimo login</div>\n            <div className=\"text-xs text-gray-900\">{playerProgress?.last_login ? new Date(playerProgress.last_login).toLocaleString() : '‚Äî'}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Criado em</div>\n            <div className=\"text-xs text-gray-900\">{playerProfile?.created_at ? new Date(playerProfile.created_at).toLocaleString() : '‚Äî'}</div>\n          </div>\n        </div>\n        <div className=\"mt-3 flex items-center gap-2\">\n          <button onClick={exportUserData} className=\"px-3 py-2 bg-white text-indigo-700 border border-indigo-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\">Exportar dados (JSON)</button>\n          <div className=\"text-sm text-gray-700\">Export: {exportUserStatus}</div>\n        </div>\n      </div>\n\n      {/* KPIs adicionais e tend√™ncias (estilo Playtest) */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n          <p className=\"text-sm text-gray-600\">WAU / MAU</p>\n          <p className=\"text-lg font-semibold text-gray-900\">{engagement?.weeklyActiveUsers || 0} / {engagement?.monthlyActiveUsers || 0}</p>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n          <p className=\"text-sm text-gray-600\">Miss√µes conclu√≠das</p>\n          <p className=\"text-2xl font-bold text-purple-600\">{gameplay?.totalQuestsCompleted || 0}</p>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n          <p className=\"text-sm text-gray-600\">Ouro total ganho</p>\n          <p className=\"text-2xl font-bold text-yellow-600\">{gameplay?.totalGoldEarned || 0}</p>\n        </div>\n        <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n          <p className=\"text-sm text-gray-600\">XP total ganho</p>\n          <p className=\"text-2xl font-bold text-green-600\">{gameplay?.totalXpGained || 0}</p>\n        </div>\n      </div>\n\n      {/* Painel cl√°ssico removido para evitar duplicidade com cards Playtest */}\n\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mb-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">‚öîÔ∏è A√ß√µes r√°pidas</h2>\n        <div className=\"flex flex-wrap gap-2\">\n          <button className=\"px-3 py-2 bg-white text-amber-800 border border-amber-300 hover:bg-gray-100 transition-colors rounded focus:outline-none focus:ring-2 focus:ring-indigo-500\" onClick={exportSelected} disabled={!selectedHero}>Exportar her√≥i selecionado</button>\n          <button className=\"px-3 py-2 bg-white text-red-800 border border-red-300 hover:bg-gray-100 transition-colors rounded focus:outline-none focus:ring-2 focus:ring-indigo-500\" onClick={removeSelected} disabled={!selectedHero}>Remover her√≥i selecionado</button>\n          <button className=\"px-3 py-2 bg-white text-blue-800 border border-blue-300 hover:bg-gray-100 transition-colors rounded focus:outline-none focus:ring-2 focus:ring-indigo-500\" onClick={resetDailyGoals}>Resetar metas di√°rias</button>\n          <button className=\"px-3 py-2 bg-white text-gray-800 border border-gray-300 hover:bg-gray-100 transition-colors rounded focus:outline-none focus:ring-2 focus:ring-indigo-500\" onClick={clearStorage}>Limpar armazenamento</button>\n        </div>\n      </div>\n\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mb-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üìú Ambiente</h2>\n        <div className=\"text-sm text-gray-700\">Modo: {import.meta.env.DEV ? 'desenvolvimento' : 'produ√ß√£o'}</div>\n        <div className=\"text-sm text-gray-700\">Vite: ativo</div>\n        <div className=\"text-sm text-gray-700\">Chaves conhecidas: {Object.keys(import.meta.env).filter(k => k.startsWith('VITE_')).join(', ') || '‚Äî'}</div>\n      </div>\n\n      {/* Supabase Test Panel */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mb-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üóÑÔ∏è Supabase</h2>\n        <div className=\"flex flex-wrap gap-2 mb-3\">\n          <button\n            onClick={testSupabase}\n            className=\"px-3 py-2 bg-white text-green-700 border border-green-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n          >\n            {sbLoading ? 'Conectando...' : 'Testar conex√£o (tabela players)'}\n          </button>\n          <div className=\"text-sm text-gray-700\">Status: {sbStatus}</div>\n          <button\n            onClick={runBackup}\n            className=\"px-3 py-2 bg-white text-purple-700 border border-purple-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n          >\n            Fazer backup agora\n          </button>\n          <div className=\"text-sm text-gray-700\">Backup: {backupStatus}</div>\n          <button\n            onClick={importLocalToCloud}\n            className=\"px-3 py-2 bg-white text-indigo-700 border border-indigo-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n          >\n            Importar dados locais\n          </button>\n        </div>\n        {sbError && (\n          <div className=\"text-sm text-red-700 bg-red-50 border border-red-200 rounded p-2 mb-3\">\n            Erro: {sbError}\n          </div>\n        )}\n        <div className=\"text-sm text-gray-700\">Resultado (at√© 5 registros):</div>\n        <div className=\"mt-2 grid grid-cols-1 md:grid-cols-2 gap-2\">\n          {sbPlayers.length === 0 && (\n            <div className=\"text-xs text-gray-500\">Nenhum registro retornado. Crie dados na tabela `players` ou revise RLS.</div>\n          )}\n          {sbPlayers.map((p, idx) => (\n            <div key={idx} className=\"bg-white p-3 rounded border border-gray-200\">\n              <div className=\"text-xs text-gray-500\">id: {String(p.id ?? '‚Äî')}</div>\n              <div className=\"text-sm text-gray-900\">username: {String(p.username ?? '‚Äî')}</div>\n              <div className=\"text-xs text-gray-500\">created_at: {String(p.created_at ?? '‚Äî')}</div>\n            </div>\n          ))}\n        </div>\n        <div className=\"text-xs text-gray-500 mt-2\">\n          Dica: configure `VITE_SUPABASE_URL` e `VITE_SUPABASE_ANON_KEY` em `.env.local`.\n          Se RLS bloquear, ajuste pol√≠ticas para leitura p√∫blica de `players` em desenvolvimento.\n        </div>\n      </div>\n\n      {/* Logs Admin Panel */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mb-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üßæ Logs (Admin)</h2>\n        <div className=\"flex items-end gap-2 mb-3\">\n          <div>\n            <label className=\"block text-xs text-gray-500 mb-1\">Admin Token</label>\n            <input value={adminToken} onChange={e => setAdminToken(e.target.value)} className=\"bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" placeholder=\"Bearer token\" />\n          </div>\n          {!adminToken && (\n            <div className=\"text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded px-2 py-1\">Defina ADMIN_API_TOKEN no servidor para listar logs em produ√ß√£o</div>\n          )}\n          <div>\n            <label className=\"block text-xs text-gray-500 mb-1\">Tipo</label>\n            <select value={logType} onChange={e => { setLogType(e.target.value); setLogOffset(0); }} className=\"bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\">\n              <option value=\"\">Todos</option>\n              <option value=\"backup-\">Backup</option>\n              <option value=\"evt-\">Eventos</option>\n            </select>\n          </div>\n            <button onClick={fetchLogs} className=\"px-3 py-2 bg-white text-purple-700 border border-purple-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\">Listar logs</button>\n            <button onClick={() => { setLogOffset(Math.max(0, logOffset - 20)); fetchLogs(); }} className=\"px-2 py-2 bg-white text-gray-700 border border-gray-300 rounded\">Prev</button>\n            <button onClick={() => { setLogOffset(logOffset + 20); fetchLogs(); }} className=\"px-2 py-2 bg-white text-gray-700 border border-gray-300 rounded\">Next</button>\n          </div>\n        <div className=\"mt-2 grid grid-cols-1 md:grid-cols-2 gap-2\">\n          {logFiles.length === 0 && (\n            <div className=\"text-xs text-gray-500\">‚Äî</div>\n          )}\n          {logFiles.map((f, idx) => (\n            <div key={idx} className=\"bg-white p-3 rounded border border-gray-200 text-xs text-gray-700 flex items-center justify-between gap-2\">\n              <span>{String(f?.name || '‚Äî')} ‚Ä¢ {String(f?.created_at || '')}</span>\n              <button onClick={() => fetchLogContent(String(f?.name || ''))} className=\"px-2 py-1 bg-white text-gray-800 border border-gray-300 rounded\">Ver</button>\n            </div>\n          ))}\n        </div>\n        <div className=\"mt-3\">\n          <div className=\"text-sm text-gray-700 mb-1\">Pr√©via</div>\n          <pre className=\"bg-white p-3 rounded border border-gray-200 text-xs text-gray-700 overflow-auto max-h-64 whitespace-pre-wrap\">{logPreview}</pre>\n        </div>\n        <div className=\"text-xs text-gray-500 mt-2\">\n          Dica: configure `ADMIN_API_TOKEN` no ambiente do servidor. Apenas para produ√ß√£o.\n        </div>\n      </div>\n\n      \n\n      {/* Supabase Heroes Sync Panel */}\n      <SupabaseHeroesSyncPanel />\n\n      {/* Supabase Quests Panel */}\n      <SupabaseQuestsPanel />\n\n      {/* Configura√ß√µes de Jogo (estilo Playtest) */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mb-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">‚öôÔ∏è Configura√ß√µes de Jogo</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Regenera√ß√£o de HP (pontos por minuto)</label>\n            <input\n              type=\"number\"\n              min={0}\n              className=\"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              value={settings.regenHpPerMin}\n              onChange={(e) => updateSettings({ regenHpPerMin: Math.max(0, Number(e.target.value)) })}\n            />\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Regenera√ß√£o de Mana (pontos por minuto)</label>\n            <input\n              type=\"number\"\n              min={0}\n              className=\"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              value={settings.regenMpPerMin}\n              onChange={(e) => updateSettings({ regenMpPerMin: Math.max(0, Number(e.target.value)) })}\n            />\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Fadiga √© gerida por descanso</label>\n            <input\n              type=\"number\"\n              min={0}\n              className=\"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              value={settings.regenStaminaPerMin}\n              onChange={(e) => updateSettings({ regenStaminaPerMin: Math.max(0, Number(e.target.value)) })}\n            />\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Penalidade de morte habilitada</label>\n            <div className=\"flex items-center gap-3\">\n              <input\n                type=\"checkbox\"\n                checked={settings.deathPenaltyEnabled}\n                onChange={(e) => updateSettings({ deathPenaltyEnabled: e.target.checked })}\n              />\n              <span className=\"text-gray-600 text-sm\">Bloqueia a√ß√µes durante recupera√ß√£o</span>\n            </div>\n            <label className=\"block text-sm text-gray-600 mt-3 mb-2\">Tempo de recupera√ß√£o ap√≥s morte (minutos)</label>\n            <input\n              type=\"number\"\n              min={0}\n              className=\"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              value={settings.deathRecoveryMinutes}\n              onChange={(e) => updateSettings({ deathRecoveryMinutes: Math.max(0, Number(e.target.value)) })}\n            />\n            <div className=\"text-xs text-gray-500 mt-2\">Nota: O tempo ser√° aplicado em fluxos de masmorra compat√≠veis.</div>\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Multiplicador de descanso (HP/MP)</label>\n            <input type=\"number\" step={0.1} className=\"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" value={Number(settings.restBuffHpMpMultiplier ?? 1.5)} onChange={(e) => updateSettings({ restBuffHpMpMultiplier: Number(e.target.value) })} />\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Multiplicador de descanso (HP/MP)</label>\n            <input type=\"number\" step={0.1} className=\"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" value={Number(settings.restBuffStaminaMultiplier ?? 2)} onChange={(e) => updateSettings({ restBuffStaminaMultiplier: Number(e.target.value) })} />\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Dura√ß√£o do descanso (min)</label>\n            <input type=\"number\" className=\"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" value={Number(settings.restBuffDurationMinutes ?? 10)} onChange={(e) => updateSettings({ restBuffDurationMinutes: Math.max(0, Number(e.target.value)) })} />\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <label className=\"block text-sm text-gray-600 mb-2\">B√¥nus de Medita√ß√£o (MP/min)</label>\n            <input type=\"number\" className=\"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" value={Number(settings.meditationMpBonusPerMin ?? 8)} onChange={(e) => updateSettings({ meditationMpBonusPerMin: Math.max(0, Number(e.target.value)) })} />\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Dura√ß√£o da Medita√ß√£o (min)</label>\n            <input type=\"number\" className=\"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" value={Number(settings.meditationDurationMinutes ?? 2)} onChange={(e) => updateSettings({ meditationDurationMinutes: Math.max(0, Number(e.target.value)) })} />\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Cooldown da Medita√ß√£o (min)</label>\n            <input type=\"number\" className=\"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" value={Number(settings.meditationCooldownMinutes ?? 10)} onChange={(e) => updateSettings({ meditationCooldownMinutes: Math.max(0, Number(e.target.value)) })} />\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Multiplicador de regen em Dungeon</label>\n            <input type=\"number\" step={0.1} className=\"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" value={Number(settings.dungeonRegenMultiplier ?? 0.5)} onChange={(e) => updateSettings({ dungeonRegenMultiplier: Number(e.target.value) })} />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mb-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">‚è±Ô∏è Ciclos de Jogo</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Tempo at√© recuperar</div>\n            <ul className=\"mt-2 text-sm text-gray-900\">\n              <li>HP: {cycles.hpToFull} min</li>\n              <li>MP: {cycles.mpToFull} min</li>\n              <li>Fadiga: sem regenera√ß√£o autom√°tica</li>\n            </ul>\n            <div className=\"text-xs text-gray-500 mt-2\">Dica: gerencie fadiga com descanso adequado</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Cooldowns alvo</div>\n            <ul className=\"mt-2 text-sm text-gray-900\">\n              <li>Miss√£o r√°pida: {cycles.questCd.rapida} min</li>\n              <li>Miss√£o padr√£o: {cycles.questCd.padrao} min</li>\n              <li>Miss√£o √©pica: {cycles.questCd.epica} min</li>\n              <li>Ca√ßa (por rank): F {cycles.huntingCdByRank.F} ‚Ä¢ E {cycles.huntingCdByRank.E} ‚Ä¢ D {cycles.huntingCdByRank.D} ‚Ä¢ C {cycles.huntingCdByRank.C} ‚Ä¢ B {cycles.huntingCdByRank.B} ‚Ä¢ A {cycles.huntingCdByRank.A} ‚Ä¢ S {cycles.huntingCdByRank.S} min</li>\n              <li>Masmorra: {cycles.dungeonCd} min</li>\n            </ul>\n            <div className=\"text-xs text-gray-500 mt-2\">Ajuste os sliders acima para ver o impacto nos tempos.</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Vis√£o Geral de Gameplay (estilo Playtest) */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">üìà M√©tricas e Reten√ß√£o</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <div className=\"text-sm text-gray-600\">Usu√°rios Di√°rios (DAU)</div>\n            <div className=\"text-2xl text-gray-900\">{engagement.dailyActiveUsers}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <div className=\"text-sm text-gray-600\">Usu√°rios Semanais (WAU)</div>\n            <div className=\"text-2xl text-gray-900\">{engagement.weeklyActiveUsers}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <div className=\"text-sm text-gray-600\">Usu√°rios Mensais (MAU)</div>\n            <div className=\"text-2xl text-gray-900\">{engagement.monthlyActiveUsers}</div>\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <div className=\"text-sm text-gray-600\">Reten√ß√£o (7 dias)</div>\n            <div className=\"text-2xl text-indigo-600\">{(engagement.retentionRate.day7 * 100).toFixed(1)}%</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]\">\n            <div className=\"text-sm text-gray-600\">Reten√ß√£o (30 dias)</div>\n            <div className=\"text-2xl text-indigo-600\">{(engagement.retentionRate.day30 * 100).toFixed(1)}%</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">A√ß√µes por sess√£o</div>\n            <div className=\"text-2xl text-gray-900\">{engagement.averageActionsPerSession.toFixed(1)}</div>\n          </div>\n        </div>\n        {/* Removido: totals duplicados (j√° vis√≠veis nos KPIs acima) */}\n      </div>\n\n      {/* Classes e Estat√≠sticas de Her√≥is */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mt-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üß≠ Classes e Estat√≠sticas de Her√≥is</h2>\n        {classStats.length === 0 ? (\n          <div className=\"text-sm text-gray-500\">Nenhum her√≥i registrado ainda.</div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {classStats.map(entry => (\n              <div key={entry.cls} className=\"bg-white p-4 rounded-lg border border-gray-200\">\n                <div className=\"flex justify-between\">\n                  <div className=\"text-gray-900 font-semibold capitalize\">{entry.cls}</div>\n                  <div className=\"text-gray-600 text-sm\">{entry.count} her√≥is</div>\n                </div>\n                <div className=\"mt-2 text-sm text-gray-600\">N√≠vel m√©dio: <span className=\"text-gray-900 font-medium\">{entry.avgLevel}</span></div>\n                <div className=\"mt-3 text-xs text-gray-600\">Atributos m√©dios</div>\n                <div className=\"grid grid-cols-3 gap-2 mt-1 text-xs text-gray-700\">\n                  {Object.entries(entry.avgAttrs).map(([k, v]) => (\n                    <div key={k} className=\"flex items-center justify-between\">\n                      <span className=\"capitalize\">{k}</span>\n                      <span className=\"text-gray-900\">{v as number}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Miss√µes e Masmorras */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mt-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üè∞ Miss√µes e Masmorras</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Total conclu√≠das</div>\n            <div className=\"text-2xl text-gray-900\">{missionStats.totalCompleted}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">M√©dia por her√≥i</div>\n            <div className=\"text-2xl text-gray-900\">{missionStats.avgCompletedPerHero}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Ativas por her√≥i</div>\n            <div className=\"text-2xl text-gray-900\">{missionStats.avgActivePerHero}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Quests de guilda dispon√≠veis</div>\n            <div className=\"text-2xl text-gray-900\">{missionStats.guildQuestsAvailable}</div>\n          </div>\n        </div>\n        <div className=\"mt-4 text-sm text-gray-500\">Dica: use o bot√£o abaixo para for√ßar atualiza√ß√£o do Quadro de Miss√µes com base no n√≠vel do her√≥i selecionado.</div>\n        <button className=\"mt-2 px-3 py-2 bg-white text-indigo-600 border border-indigo-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\" onClick={forceQuestRefresh} disabled={!selectedHero}>Atualizar Quadro de Miss√µes</button>\n      </div>\n\n      {/* Economia e Loja */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mt-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">ü™ô Economia e Loja</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Ouro total no sistema</div>\n            <div className=\"text-2xl text-gray-900\">{economyStats.totalGold}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Ouro m√©dio por her√≥i</div>\n            <div className=\"text-2xl text-gray-900\">{economyStats.avgGold}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Itens mais comuns no invent√°rio</div>\n            <ul className=\"mt-2 text-sm text-gray-700\">\n              {economyStats.topItems.length === 0 && <li className=\"text-gray-500\">‚Äî</li>}\n              {economyStats.topItems.map(([id, qty]) => (\n                <li key={id}>{id}: <span className=\"text-gray-900 font-medium\">{qty as number}</span></li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mt-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üéí Gest√£o de Itens</h2>\n        <div className=\"flex items-end gap-3 mb-4\">\n          <div className=\"flex-1\">\n            <label className=\"block text-xs text-gray-500 mb-1\">Buscar</label>\n            <input value={itemSearch} onChange={e => setItemSearch(e.target.value)} className=\"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" placeholder=\"id ou nome do item\" />\n          </div>\n          <div>\n            <label className=\"block text-xs text-gray-500 mb-1\">Quantidade</label>\n            <input type=\"number\" min={1} value={itemQty} onChange={e => setItemQty(Math.max(1, Number(e.target.value)))} className=\"w-24 bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" />\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2\">\n          {filteredItems.map(it => (\n            <div key={it.id} className=\"bg-white p-3 rounded border border-gray-200 flex items-center justify-between gap-2\">\n              <div className=\"flex items-center gap-2\">\n                <span className=\"font-mono text-xs bg-gray-100 border border-gray-200 px-1 rounded\">{it.id}</span>\n                <span className=\"text-sm text-gray-900\">{it.name}</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <button\n                  className=\"px-2 py-1 bg-white text-green-700 border border-green-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                  onClick={() => { if (!selectedHero) return; addItemToInventory(selectedHero.id, it.id, itemQty); }}\n                  disabled={!selectedHero}\n                >Adicionar</button>\n                <button\n                  className=\"px-2 py-1 bg-white text-red-700 border border-red-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                  onClick={() => { if (!selectedHero) return; sellItem(selectedHero.id, it.id, itemQty); }}\n                  disabled={!selectedHero}\n                >Remover</button>\n              </div>\n            </div>\n          ))}\n        </div>\n        {!selectedHero && (\n          <div className=\"mt-2 text-xs text-gray-500\">Selecione um her√≥i para aplicar altera√ß√µes de invent√°rio.</div>\n        )}\n      </div>\n\n      {/* IA e Narrativas */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mt-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üß† IA e Narrativas</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Requisi√ß√µes totais</div>\n            <div className=\"text-2xl text-gray-900\">{aiUsage.totalRequests}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Tempo m√©dio de resposta</div>\n            <div className=\"text-2xl text-gray-900\">{Math.round(aiUsage.averageResponseTime)}ms</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Taxa de erro</div>\n            <div className=\"text-2xl text-gray-900\">{(aiUsage.errorRate || 0).toFixed(2)}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Por tipo</div>\n            <ul className=\"mt-2 text-sm text-gray-700\">\n              {Object.keys(aiUsage.requestsByType || {}).length === 0 && <li className=\"text-gray-500\">‚Äî</li>}\n              {Object.entries(aiUsage.requestsByType || {}).map(([type, count]) => (\n                <li key={type}>{type}: <span className=\"text-gray-900 font-medium\">{count as number}</span></li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      {/* Relat√≥rio IA ‚ÄúForjador‚Äù e Exporta√ß√£o */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mt-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üõ†Ô∏è Relat√≥rios e Exporta√ß√£o</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600 mb-2\">Prompt do Forjador</div>\n            <textarea className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 h-24 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" value={aiPrompt} onChange={e => setAiPrompt(e.target.value)} />\n            <button className={`mt-2 px-3 py-2 text-white rounded bg-gradient-to-r ${(seasonalThemes as any)[activeSeasonalTheme || '']?.buttonGradient || 'from-amber-600 to-yellow-600'} hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex items-center gap-2`} onClick={generateAIReport}>\n              {(seasonalThemes as any)[activeSeasonalTheme || '']?.accents?.[0] || ''}\n              <span>Gerar relat√≥rio</span>\n            </button>\n            <div className=\"mt-3 text-xs text-gray-500\">Dica: Ele narra com voz medieval e sugere ajustes.</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600 mb-2\">Relat√≥rio gerado</div>\n            <div className=\"bg-white text-gray-800 border border-gray-200 rounded p-3 whitespace-pre-wrap text-sm min-h-[96px]\">{aiReport || '‚Äî'}</div>\n            <div className=\"mt-3 flex gap-2\">\n              <button className={`px-3 py-2 text-white rounded bg-gradient-to-r ${getSeasonalButtonGradient(activeSeasonalTheme as any)} hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex items-center gap-2`} onClick={exportKPIJson}>\n                {(seasonalThemes as any)[activeSeasonalTheme || '']?.accents?.[0] || ''}\n                <span>Exportar .json</span>\n              </button>\n              <button className={`px-3 py-2 text-white rounded bg-gradient-to-r ${getSeasonalButtonGradient(activeSeasonalTheme as any)} hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex items-center gap-2`} onClick={exportKPICsv}>\n                {(seasonalThemes as any)[activeSeasonalTheme || '']?.accents?.[0] || ''}\n                <span>Exportar .csv</span>\n              </button>\n            </div>\n          </div>\n        </div>\n        <div className=\"mt-4\">\n          <div className=\"text-sm text-gray-600 mb-2\">üßæ Log de IA (√∫ltimos 20)</div>\n          {aiLog.length === 0 ? (\n            <div className=\"text-xs text-gray-500\">Nenhum relat√≥rio gerado ainda.</div>\n          ) : (\n            <div className=\"space-y-2 max-h-64 overflow-auto\">\n              {aiLog.map((l, idx) => (\n                <div key={idx} className=\"bg-white p-3 rounded-lg border border-gray-200\">\n                  <div className=\"text-xs text-gray-500\">{new Date(l.timestamp).toLocaleString()}</div>\n                  <div className=\"text-xs text-amber-700 mt-1\">Prompt & contexto</div>\n                  <div className=\"text-xs text-gray-700 whitespace-pre-wrap\">{l.prompt}</div>\n                  <div className=\"text-xs text-amber-700 mt-2\">Relat√≥rio</div>\n                  <div className=\"text-xs text-gray-800 whitespace-pre-wrap\">{l.report}</div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Alertas Autom√°ticos */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mt-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üîî Alertas Autom√°ticos</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Masmorra</label>\n            <input className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" value={dungeonName} onChange={e => setDungeonName(e.target.value)} />\n            <div className=\"mt-3 text-sm text-gray-600\">Taxa de falha</div>\n            <div className=\"text-2xl text-gray-900\">{(dungeonFailRate * 100).toFixed(1)}%</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className={`text-sm ${dungeonFailRate > 0.6 ? 'text-red-700' : 'text-gray-600'}`}>Regra: falha &gt; 60%</div>\n            <div className={`mt-2 p-3 rounded text-sm border ${dungeonFailRate > 0.6 ? 'border-red-300 text-red-800 bg-white' : 'border-gray-200 text-gray-700 bg-white'}`}>\n              {dungeonFailRate > 0.6 ? 'Alerta: Ajustar dificuldade ou oferecer po√ß√µes/boosts.' : 'OK: Dentro do limite.'}\n            </div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600 mb-2\">Webhook (Discord/Telegram)</div>\n            <input className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" placeholder=\"https://discordapp.com/api/webhooks/...\" />\n            <button className=\"mt-2 px-3 py-2 bg-white text-purple-700 border border-purple-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\">Enviar teste</button>\n            <div className=\"text-xs text-gray-500 mt-2\">Exemplo de integra√ß√£o b√°sica via webhook.</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Painel de Intera√ß√µes de NPC */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mt-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üë• Intera√ß√µes de NPC</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div>\n            <label className=\"text-sm text-gray-600\">Dificuldade</label>\n            <select defaultValue={npcSettings.npcInteractionDifficulty} onChange={(e) => setTmpNpc({ ...tmpNpc, npcInteractionDifficulty: e.target.value })} className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1\">\n              <option value=\"low\">Baixa</option>\n              <option value=\"normal\">Normal</option>\n              <option value=\"high\">Alta</option>\n            </select>\n          </div>\n          <div>\n            <label className=\"text-sm text-gray-600\">Modo de Notifica√ß√µes</label>\n            <select defaultValue={npcSettings.npcNotificationsMode} onChange={(e) => setTmpNpc({ ...tmpNpc, npcNotificationsMode: e.target.value })} className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1\">\n              <option value=\"off\">Desligado</option>\n              <option value=\"compact\">Compacto</option>\n              <option value=\"normal\">Normal</option>\n            </select>\n          </div>\n          <div>\n            <label className=\"text-sm text-gray-600\">M√°x. Notifica√ß√µes por tick</label>\n            <input type=\"number\" defaultValue={npcSettings.npcNotifyMaxPerTick} onChange={(e) => setTmpNpc({ ...tmpNpc, npcNotifyMaxPerTick: Number(e.target.value) })} className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1\" />\n          </div>\n          <div>\n            <label className=\"text-sm text-gray-600\">Cooldown de Intera√ß√µes (s)</label>\n            <input type=\"number\" defaultValue={npcSettings.npcInteractionCooldownSeconds} onChange={(e) => setTmpNpc({ ...tmpNpc, npcInteractionCooldownSeconds: Number(e.target.value) })} className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1\" />\n          </div>\n          <div>\n            <label className=\"text-sm text-gray-600\">Seed de NPCs</label>\n            <input type=\"number\" defaultValue={npcSettings.npcSeedTarget} onChange={(e) => setTmpNpc({ ...tmpNpc, npcSeedTarget: Number(e.target.value) })} className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1\" />\n          </div>\n          <div>\n            <label className=\"text-sm text-gray-600\">Vis√≠veis no painel</label>\n            <input type=\"number\" defaultValue={npcSettings.npcVisibleCap} onChange={(e) => setTmpNpc({ ...tmpNpc, npcVisibleCap: Number(e.target.value) })} className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1\" />\n          </div>\n          <div>\n            <label className=\"text-sm text-gray-600\">Rota√ß√£o (s)</label>\n            <input type=\"number\" defaultValue={npcSettings.npcRotationSeconds} onChange={(e) => setTmpNpc({ ...tmpNpc, npcRotationSeconds: Number(e.target.value) })} className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1\" />\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3\">\n          <div>\n            <label className=\"text-sm text-gray-600\">Conhecido ‚â•</label>\n            <input type=\"number\" defaultValue={npcSettings.npcRelationKnownThreshold} onChange={(e) => setTmpNpc({ ...tmpNpc, npcRelationKnownThreshold: Number(e.target.value) })} className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1\" />\n          </div>\n          <div>\n            <label className=\"text-sm text-gray-600\">Amigo ‚â•</label>\n            <input type=\"number\" defaultValue={npcSettings.npcRelationFriendThreshold} onChange={(e) => setTmpNpc({ ...tmpNpc, npcRelationFriendThreshold: Number(e.target.value) })} className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1\" />\n          </div>\n          <div>\n            <label className=\"text-sm text-gray-600\">Melhor Amigo ‚â•</label>\n            <input type=\"number\" defaultValue={npcSettings.npcRelationBestFriendThreshold} onChange={(e) => setTmpNpc({ ...tmpNpc, npcRelationBestFriendThreshold: Number(e.target.value) })} className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1\" />\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3\">\n          <div>\n            <label className=\"text-sm text-gray-600\">Rivalidade Moderada ‚â§</label>\n            <input type=\"number\" defaultValue={npcSettings.npcDuelRivalryModerate} onChange={(e) => setTmpNpc({ ...tmpNpc, npcDuelRivalryModerate: Number(e.target.value) })} className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1\" />\n          </div>\n          <div>\n            <label className=\"text-sm text-gray-600\">Rivalidade Alta ‚â§</label>\n            <input type=\"number\" defaultValue={npcSettings.npcDuelRivalryHigh} onChange={(e) => setTmpNpc({ ...tmpNpc, npcDuelRivalryHigh: Number(e.target.value) })} className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1\" />\n          </div>\n          <div>\n            <label className=\"text-sm text-gray-600\">Diferen√ßa m√°x. de n√≠vel</label>\n            <input type=\"number\" defaultValue={npcSettings.npcDuelLevelDiffMax} onChange={(e) => setTmpNpc({ ...tmpNpc, npcDuelLevelDiffMax: Number(e.target.value) })} className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1\" />\n          </div>\n        </div>\n        <div className=\"mt-3 flex gap-2\">\n          <button onClick={applyNpcSettings} className=\"px-3 py-2 bg-white text-indigo-700 border border-indigo-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\">Aplicar ajustes</button>\n          <button onClick={() => seedRandomHatred(4)} className=\"px-3 py-2 bg-white text-red-700 border border-red-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-red-500\">Semear √≥dio aleat√≥rio</button>\n        </div>\n      </div>\n\n      {/* Modo Sandbox */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mt-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üß± Modo Sandbox</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Eventos simulados</label>\n            <input type=\"number\" className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\" value={simCount} onChange={e => setSimCount(Math.max(1, Number(e.target.value)))} />\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"text-sm text-gray-600\">Dungeon alvo</div>\n            <div className=\"text-gray-900\">{dungeonName}</div>\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <button className=\"w-full px-3 py-2 bg-white text-blue-700 border border-blue-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500\" onClick={runSandbox}>Simular jogadores/IA</button>\n          </div>\n        </div>\n        <div className=\"mt-3 text-xs text-gray-500\">Gera eventos de sucesso/fracasso para stressar m√©tricas e alertas.</div>\n      </div>\n\n      {/* Ferramentas de Administra√ß√£o */}\n      <div className=\"bg-white p-6 rounded-lg border border-gray-200 mt-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">üîß Ferramentas de Administra√ß√£o</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Ajustar XP (aplicar ao her√≥i selecionado)</label>\n            <input\n              type=\"number\"\n              className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              value={adjustments.xp}\n              onChange={(e) => setAdjustments(prev => ({ ...prev, xp: Number(e.target.value) }))}\n              disabled={!selectedHero}\n            />\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <label className=\"block text-sm text-gray-600 mb-2\">Ajustar Ouro (aplicar ao her√≥i selecionado)</label>\n            <input\n              type=\"number\"\n              className=\"w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              value={adjustments.gold}\n              onChange={(e) => setAdjustments(prev => ({ ...prev, gold: Number(e.target.value) }))}\n              disabled={!selectedHero}\n            />\n          </div>\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200 flex items-end\">\n            <button className=\"w-full px-3 py-2 bg-white text-amber-700 border border-amber-300 rounded hover:bg-gray-100 disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-indigo-500\" onClick={applyAdjustments} disabled={!selectedHero}>Aplicar ajustes</button>\n          </div>\n        </div>\n        <div className=\"mt-3 text-xs text-gray-500\">Nota: use estes controles para testes e balanceamento r√°pido sem afetar outros her√≥is.</div>\n      </div>\n    </div>\n  );\n}\n"],"names":["SupabaseHeroesSyncPanel","getSelectedHero","importHero","useHeroStore","selectedHero","userId","setUserId","useState","email","setEmail","loading","setLoading","error","setError","info","setInfo","heroes","setHeroes","useEffect","load","data","supabase","u","sub","_evt","session","_a","_b","handleSaveSelected","saveHero","err","handleListHeroes","list","listHeroesByUser","handleImportHero","h","sanitized","sanitizeStoredHeroData","ok","handleImportAll","jsxs","jsx","getStoredHeroVersion","_d","_c","_e","SupabaseHeroesSyncPanel$1","SupabaseQuestsPanel","getHeroQuests","activeQuests","quests","setQuests","handleSaveActiveQuests","q","saveQuest","handleListQuests","listQuestsByHero","SupabaseQuestsPanel$1","triggerBackup","res","AdminDashboard","s","removeHero","resetDailyGoals","gainXP","gainGold","availableQuests","addItemToInventory","sellItem","refreshQuests","seedRandomHatred","settings","useGameSettingsStore","updateSettings","npcSettings","stats","useMemo","activeSeasonalTheme","useMonetizationStore","engagement","setEngagement","metricsManager","gameplay","setGameplay","aiUsage","setAiUsage","aiService","events","setEvents","sessions","setSessions","selectedTimeframe","setSelectedTimeframe","lastRefresh","setLastRefresh","autoRefresh","setAutoRefresh","refresh","interval","sbLoading","setSbLoading","sbStatus","setSbStatus","sbError","setSbError","sbPlayers","setSbPlayers","backupStatus","setBackupStatus","progressLoading","setProgressLoading","progressError","setProgressError","playerProgress","setPlayerProgress","playerProfile","setPlayerProfile","adminToken","setAdminToken","logFiles","setLogFiles","logPreview","setLogPreview","logType","setLogType","logOffset","setLogOffset","exportUserStatus","setExportUserStatus","importLocalToCloud","hCount","qCount","e","testSupabase","runBackup","resp","fetchPlayerProgress","json","res2","json2","fetchLogs","qs","sessData","sessionToken","headers","fetchLogContent","name","content","exportUserData","txt","blob","url","a","exportSelected","clearStorage","removeSelected","classStats","counts","levelSum","attrSum","key","entries","cls","k","v","b","missionStats","totalCompleted","sum","avgCompletedPerHero","avgActivePerHero","guildQuestsAvailable","economyStats","totalGold","avgGold","itemCounts","items","id","qty","topItems","cycles","hpMax","hpCur","mpMax","mpCur","stMax","stCur","hpToFull","mpToFull","stToFullBase","stRecoveryInDungeon15","_f","adjustments","setAdjustments","applyAdjustments","forceQuestRefresh","lvl","exportKPIJson","kpi","exportKPICsv","rows","pushObj","section","obj","k2","v2","csv","r","exportUnifiedMetrics","tmpNpc","setTmpNpc","applyNpcSettings","dungeonName","setDungeonName","dungeonFailRate","relevantStarts","relevantFails","total","simCount","setSimCount","runSandbox","heroId","i","aiPrompt","setAiPrompt","aiReport","setAiReport","aiLog","setAiLog","saved","itemSearch","setItemSearch","itemQty","setItemQty","filteredItems","seen","SHOP_ITEMS","generateAIReport","context","systemMsg","text","next","fallback","_g","p","idx","f","entry","it","type","count","_h","seasonalThemes","_j","_i","getSeasonalButtonGradient","_l","_k","_n","_m","l","prev"],"mappings":"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"}