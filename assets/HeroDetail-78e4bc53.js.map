{"version":3,"mappings":"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","names":["NarrativeChapters","lazy","__vitePreload","TalentPlanManager","UpcomingSkills","HeroDetail","id","useParams","navigate","useNavigate","heroes","deleteHero","createReferralInvite","getReferralInvitesForHero","craftItem","useHeroStore","shareLink","setShareLink","useState","creatingInvite","setCreatingInvite","activeTab","setActiveTab","invQuery","setInvQuery","invType","setInvType","hero","h","jsxs","jsx","Link","handleDelete","getItemName","itemId","item","SHOP_ITEMS","i","inventoryEntries","useMemo","qty","filteredInventoryEntries","q","name","type","matchesQuery","matchesType","myInvites","activeSet","weapons","_a","armors","accessories","w","ITEM_SETS","availableRecipes","getAvailableRecipes","useEffect","title","descText","meta","canonicalHref","link","prop","val","tag","ld","ldEl","href","ensure","selector","factory","el","l","e","t","getActiveTitle","_b","_c","_d","_e","_f","attr","_g","p","_h","_i","m","_j","_k","Suspense","key","value","r","s","invite","url","err","inv"],"sources":["../../src/components/HeroDetail.tsx"],"sourcesContent":["import { useParams, Link, useNavigate } from 'react-router-dom';\nimport { useEffect, useMemo, useState, Suspense, lazy } from 'react';\nimport { useHeroStore } from '../store/heroStore';\nimport { getActiveTitle } from '../utils/titles';\nimport { SHOP_ITEMS, ITEM_SETS } from '../utils/shop';\nimport { getAvailableRecipes } from '../utils/forging';\n\nconst NarrativeChapters = lazy(() => import('./NarrativeChapters'));\nconst TalentPlanManager = lazy(() => import('./TalentPlanManager'));\nconst UpcomingSkills = lazy(() => import('./UpcomingSkills'));\n\nconst HeroDetail = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const { heroes, deleteHero, createReferralInvite, getReferralInvitesForHero, craftItem } = useHeroStore();\n  const [shareLink, setShareLink] = useState<string | null>(null);\n  const [creatingInvite, setCreatingInvite] = useState(false);\n  const [activeTab, setActiveTab] = useState<\n    'overview' | 'attributes' | 'inventory' | 'talents' | 'journey' | 'invites'\n  >('overview');\n  const [invQuery, setInvQuery] = useState('');\n  const [invType, setInvType] = useState('Todos');\n  \n  const hero = heroes.find(h => h.id === id);\n  \n  if (!hero) {\n    return (\n      <div className=\"text-center p-8\">\n        <h2 className=\"text-2xl font-bold text-amber-400 mb-4\">Her√≥i n√£o encontrado</h2>\n        <p className=\"text-gray-300 mb-6\">O her√≥i que voc√™ est√° procurando n√£o existe.</p>\n        <Link \n          to=\"/\" \n          className=\"px-6 py-3 bg-amber-600 hover:bg-amber-700 rounded-md font-bold transition-colors\"\n        >\n          Voltar para Lista\n        </Link>\n      </div>\n    );\n  }\n  \n  const handleDelete = () => {\n    if (window.confirm('Tem certeza que deseja deletar este her√≥i?')) {\n      deleteHero(hero.id);\n      navigate('/');\n    }\n  };\n  \n  // Helpers\n  const getItemName = (itemId?: string) => {\n    if (!itemId) return '-';\n    const item = SHOP_ITEMS.find(i => i.id === itemId);\n    return item ? item.name : itemId;\n  };\n\n  const inventoryEntries = useMemo(\n    () => Object\n      .entries(hero.inventory.items || {})\n      .filter(([, qty]) => (qty as number) > 0),\n    [hero.inventory.items]\n  );\n\n  const filteredInventoryEntries = useMemo(() => {\n    const q = invQuery.trim().toLowerCase();\n    return inventoryEntries.filter(([itemId]) => {\n      const item = SHOP_ITEMS.find(i => i.id === itemId);\n      const name = (item?.name || itemId).toLowerCase();\n      const type = (item?.type || '').toLowerCase();\n      const matchesQuery = q ? name.includes(q) : true;\n      const matchesType = invType === 'Todos' ? true : type === invType.toLowerCase();\n      return matchesQuery && matchesType;\n    });\n  }, [inventoryEntries, invQuery, invType]);\n\n  const myInvites = useMemo(() => getReferralInvitesForHero(hero.id), [hero.id, getReferralInvitesForHero]);\n\n  // Detectar conjunto ativo (memo)\n  const activeSet = useMemo(() => {\n    const weapons = (hero.inventory.equippedWeapons || []).map(id => SHOP_ITEMS.find(i => i.id === id)?.setId).filter(Boolean) as string[];\n    const armors = (hero.inventory.equippedArmorSlots || []).map(id => SHOP_ITEMS.find(i => i.id === id)?.setId).filter(Boolean) as string[];\n    const accessories = (hero.inventory.equippedAccessories || []).map(id => SHOP_ITEMS.find(i => i.id === id)?.setId).filter(Boolean) as string[];\n    for (const w of weapons) {\n      if (armors.includes(w) && accessories.includes(w)) {\n        return ITEM_SETS[w];\n      }\n    }\n    return null;\n  }, [hero.inventory.equippedWeapons, hero.inventory.equippedArmorSlots, hero.inventory.equippedAccessories]);\n\n  const availableRecipes = useMemo(() => getAvailableRecipes(hero), [hero]);\n\n  // SEO: t√≠tulo e descri√ß√£o din√¢micos\n  useEffect(() => {\n    const title = `${hero.name} ‚Ä¢ Forjador de Her√≥is`;\n    document.title = title;\n    const descText = `${hero.name}, ${hero.class} ${hero.race}. N√≠vel ${hero.progression.level}, rank ${hero.rankData?.currentRank || 'F'}. Veja atributos, equipamentos e jornada.`;\n    let meta = document.head.querySelector('meta[name=\"description\"]') as HTMLMetaElement | null;\n    if (!meta) {\n      meta = document.createElement('meta');\n      meta.name = 'description';\n      document.head.appendChild(meta);\n    }\n    meta.content = descText;\n    try {\n      const canonicalHref = window.location.href;\n      let link = Array.from(document.head.querySelectorAll('link[rel=\"canonical\"]'))[0] as HTMLLinkElement | undefined;\n      if (!link) {\n        link = document.createElement('link');\n        link.rel = 'canonical';\n        document.head.appendChild(link);\n      }\n      link.href = canonicalHref;\n      const ogPairs: Array<[string, string]> = [\n        ['og:title', title],\n        ['og:description', descText],\n        ['og:type', 'website'],\n        ['og:url', canonicalHref],\n        ['og:image', hero.image || ''],\n        ['og:site_name', 'Forjador de Her√≥is']\n      ];\n      ogPairs.forEach(([prop, val]) => {\n        if (!val) return;\n        let tag = document.head.querySelector(`meta[property=\"${prop}\"]`) as HTMLMetaElement | null;\n        if (!tag) {\n          tag = document.createElement('meta');\n          tag.setAttribute('property', prop);\n          document.head.appendChild(tag);\n        }\n        tag.setAttribute('content', val);\n      });\n      const twPairs: Array<[string, string]> = [\n        ['twitter:card', 'summary_large_image'],\n        ['twitter:title', title],\n        ['twitter:description', descText],\n        ['twitter:image', hero.image || '']\n      ];\n      twPairs.forEach(([name, val]) => {\n        if (!val) return;\n        let tag = document.head.querySelector(`meta[name=\"${name}\"]`) as HTMLMetaElement | null;\n        if (!tag) {\n          tag = document.createElement('meta');\n          tag.setAttribute('name', name);\n          document.head.appendChild(tag);\n        }\n        tag.setAttribute('content', val);\n      });\n      const ld = {\n        '@context': 'https://schema.org',\n        '@type': 'Person',\n        name: hero.name,\n        description: descText,\n        url: canonicalHref,\n        image: hero.image || undefined\n      } as any;\n      let ldEl = document.head.querySelector('script[type=\"application/ld+json\"][data-hero=\"1\"]');\n      if (!ldEl) {\n        ldEl = document.createElement('script');\n        ldEl.setAttribute('type', 'application/ld+json');\n        ldEl.setAttribute('data-hero', '1');\n        document.head.appendChild(ldEl);\n      }\n      ldEl.textContent = JSON.stringify(ld);\n\n      if ((hero.image || '').includes('image.pollinations.ai')) {\n        const urls = ['https://image.pollinations.ai'];\n        urls.forEach(href => {\n          const ensure = (selector: string, factory: () => HTMLLinkElement) => {\n            let el = document.head.querySelector(selector) as HTMLLinkElement | null;\n            if (!el) { el = factory(); document.head.appendChild(el); }\n            el.href = href;\n          };\n          ensure('link[rel=\"preconnect\"][href=\"https://image.pollinations.ai\"]', () => { const l = document.createElement('link'); l.rel = 'preconnect'; l.crossOrigin = 'anonymous'; return l; });\n          ensure('link[rel=\"dns-prefetch\"][href=\"https://image.pollinations.ai\"]', () => { const l = document.createElement('link'); l.rel = 'dns-prefetch'; return l; });\n        });\n      }\n    } catch {}\n  }, [hero.name, hero.class, hero.race, hero.progression.level, hero.rankData?.currentRank]);\n\n  return (\n    <article className=\"container mx-auto p-4 sm:p-6\" aria-labelledby=\"hero-title\">\n      <div className=\"max-w-full sm:max-w-5xl mx-auto space-y-6\">\n        <header className=\"group flex items-center justify-between rounded-xl p-4 sm:p-6 border border-white/10 bg-gray-800/70 shadow-sm\">\n          <div className=\"flex items-center gap-4\">\n            {hero.image && (\n              <img\n                src={hero.image.includes('image.pollinations.ai/prompt/')\n                  ? hero.image\n                      .replace('https://image.pollinations.ai/prompt/', '/api/pollinations-image?prompt=')\n                      .replace('?n=1&', '&')\n                  : hero.image}\n                alt={`Avatar de ${hero.name}`}\n                width={80}\n                height={80}\n                loading=\"eager\"\n                decoding=\"async\"\n                fetchpriority=\"high\"\n                sizes=\"(min-width: 640px) 80px, 64px\"\n                className=\"w-16 h-16 sm:w-20 sm:h-20 rounded-lg object-cover border border-gray-700 motion-safe:transition-transform motion-safe:duration-300 group-hover:scale-[1.03]\"\n                onError={(e) => { (e.currentTarget as HTMLImageElement).src = 'https://placehold.co/160x160?text=Avatar'; }}\n              />\n            )}\n            <div>\n              <h1 id=\"hero-title\" className=\"text-2xl sm:text-3xl font-extrabold tracking-tight text-white\">\n                {hero.name}\n              </h1>\n              <p className=\"text-sm text-gray-300\">{hero.class} ‚Ä¢ {hero.race}</p>\n              {(() => {\n                const t = getActiveTitle(hero);\n                if (!t) return null;\n                return (\n                  <div className=\"mt-1 inline-flex items-center gap-2 text-xs\">\n                    <span className=\"px-2 py-1 rounded bg-gray-700/60 border border-white/10 text-gray-200\">{t.badge} {t.name}</span>\n                    <Link to=\"/titles\" className=\"px-2 py-1 rounded bg-indigo-600 hover:bg-indigo-700 text-white\">Gerenciar</Link>\n                  </div>\n                );\n              })()}\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2 sm:gap-3\">\n            <span className=\"px-3 py-1 rounded-md bg-amber-500/20 text-amber-300 border border-amber-500/30 text-sm\">N√≠vel {hero.progression.level}</span>\n            <span className=\"px-3 py-1 rounded-md bg-indigo-500/20 text-indigo-200 border border-indigo-500/30 text-sm\">Rank {hero.rankData?.currentRank || 'F'}</span>\n          </div>\n        </header>\n\n        <nav aria-label=\"Navega√ß√£o do painel\" className=\"sticky top-0 z-20 -mx-4 sm:mx-0 bg-gray-900/60 backdrop-blur supports-[backdrop-filter]:bg-gray-900/40\">\n          <div className=\"px-4 sm:px-0 overflow-x-auto\">\n            <div className=\"flex gap-2 sm:gap-3 py-2\">\n              {[\n                { id: 'overview', label: 'Vis√£o Geral' },\n                { id: 'attributes', label: 'Atributos' },\n                { id: 'inventory', label: 'Invent√°rio' },\n                { id: 'talents', label: 'Talentos' },\n                { id: 'journey', label: 'Jornada' },\n                { id: 'invites', label: 'Convites' },\n              ].map(t => (\n                <button\n                  key={t.id}\n                  onClick={() => setActiveTab(t.id as any)}\n                  className={`px-3 sm:px-4 py-2 rounded-md text-sm font-semibold transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 ${activeTab === t.id ? 'bg-indigo-600 text-white' : 'bg-gray-700/60 text-gray-200 hover:bg-gray-700'}`}\n                  aria-current={activeTab === t.id ? 'page' : undefined}\n                >\n                  {t.label}\n                </button>\n              ))}\n            </div>\n          </div>\n        </nav>\n\n        {activeTab === 'overview' && (\n          <section aria-label=\"Vis√£o Geral\" className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"rounded-xl p-4 bg-gray-800/70 border border-white/10\">\n                <h2 className=\"text-base sm:text-lg font-semibold text-white mb-3\">Informa√ß√µes</h2>\n                <div className=\"grid grid-cols-2 gap-3 text-sm text-gray-300\">\n                  <div><span className=\"text-gray-400\">XP</span><div className=\"text-white\">{hero.progression.xp}</div></div>\n                  <div><span className=\"text-gray-400\">Ouro</span><div className=\"text-white\">{hero.progression.gold}</div></div>\n                  <div><span className=\"text-gray-400\">Miss√µes</span><div className=\"text-white\">{hero.stats?.questsCompleted || 0}</div></div>\n                  <div><span className=\"text-gray-400\">Rank Atual</span><div className=\"text-white\">{hero.rankData?.currentRank || 'F'}</div></div>\n                  {hero.stats?.talentsUnlockedPlanned !== undefined && (\n                    <div><span className=\"text-gray-400\">Talentos planejados</span><div className=\"text-white\">{hero.stats?.talentsUnlockedPlanned || 0} / {(hero.plannedTalents || []).length}</div></div>\n                  )}\n                </div>\n              </div>\n              <div className=\"rounded-xl p-4 bg-gray-800/70 border border-white/10\">\n                <h2 className=\"text-base sm:text-lg font-semibold text-white mb-3\">Equipamentos</h2>\n                <div className=\"grid grid-cols-3 gap-3 text-sm\">\n                  <div className=\"bg-gray-700/50 p-3 rounded-md\">\n                    <div className=\"text-gray-400\">Armas</div>\n                    <div className=\"text-white\">{(hero.inventory.equippedWeapons||[]).slice(0,2).map(getItemName).join(', ') || '-'}</div>\n                  </div>\n                  <div className=\"bg-gray-700/50 p-3 rounded-md\">\n                    <div className=\"text-gray-400\">Armaduras</div>\n                    <div className=\"text-white\">{(hero.inventory.equippedArmorSlots||[]).slice(0,4).map(getItemName).join(', ') || '-'}</div>\n                  </div>\n                  <div className=\"bg-gray-700/50 p-3 rounded-md\">\n                    <div className=\"text-gray-400\">Acess√≥rios</div>\n                    <div className=\"text-white\">{(hero.inventory.equippedAccessories||[]).slice(0,3).map(getItemName).join(', ') || '-'}</div>\n                  </div>\n                </div>\n                {activeSet && (\n                  <details className=\"mt-4 group rounded-md\">\n                    <summary className=\"cursor-pointer list-none flex items-center justify-between bg-emerald-700/20 border border-emerald-500/30 rounded-md p-3\">\n                      <div>\n                        <div className=\"text-emerald-300 text-sm font-semibold\">B√¥nus de Conjunto Ativo</div>\n                        <div className=\"text-white text-sm mt-1\">{activeSet.name}</div>\n                      </div>\n                      <span className=\"text-emerald-300 text-xs\">ver detalhes</span>\n                    </summary>\n                    <div className=\"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-2 text-xs\">\n                      {Object.entries(activeSet.bonus).map(([attr, val]) => (\n                        <div key={attr} className=\"bg-gray-700/40 px-2 py-1 rounded\">\n                          <span className=\"text-gray-300 capitalize\">{attr}</span>\n                          <span className=\"text-white ml-1\">+{val as number}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </details>\n                )}\n              </div>\n              <div className=\"rounded-xl p-4 bg-gray-800/70 border border-white/10\">\n                <h2 className=\"text-base sm:text-lg font-semibold text-white mb-3\">Companheiros</h2>\n                <div className=\"grid grid-cols-2 gap-3 text-sm\">\n                  <div className=\"bg-gray-700/50 p-3 rounded-md\">\n                    <div className=\"text-gray-400\">Mascote Ativo</div>\n                    <div className=\"text-white\">{(hero.pets||[]).find(p => p.id===hero.activePetId)?.name || '-'}</div>\n                    {hero.activePetId && (\n                      <div className=\"text-xs text-gray-300 mt-1\">Refino: +{((hero.pets||[]).find(p => p.id===hero.activePetId)?.refineLevel||0)}%</div>\n                    )}\n                    <Link to=\"/pets\" className=\"mt-2 inline-block px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-700 text-white text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400\">Gerenciar Mascotes</Link>\n                  </div>\n                  <div className=\"bg-gray-700/50 p-3 rounded-md\">\n                    <div className=\"text-gray-400\">Montaria Ativa</div>\n                    <div className=\"text-white\">{(hero.mounts||[]).find(m => m.id===hero.activeMountId)?.name || '-'}</div>\n                    {hero.activeMountId && (\n                      <div className=\"text-xs text-gray-300 mt-1\">Speed: +{((hero.mounts||[]).find(m => m.id===hero.activeMountId)?.speedBonus||0)} ‚Ä¢ Refino: +{((hero.mounts||[]).find(m => m.id===hero.activeMountId)?.refineLevel||0)}%</div>\n                    )}\n                    <Link to=\"/mounts\" className=\"mt-2 inline-block px-3 py-1 rounded bg-purple-600 hover:bg-purple-700 text-white text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-purple-400\">Gerenciar Montarias</Link>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        )}\n\n        {activeTab === 'talents' && (\n          <section aria-label=\"Talentos\" className=\"space-y-4\">\n            <Suspense fallback={<div className=\"rounded-xl p-4 bg-gray-800/70 border border-white/10\"><div className=\"animate-pulse space-y-3\"><div className=\"h-5 w-40 bg-gray-700 rounded\" /><div className=\"grid grid-cols-2 gap-3\"><div className=\"h-16 bg-gray-700 rounded\" /><div className=\"h-16 bg-gray-700 rounded\" /></div></div></div>}>\n              <TalentPlanManager />\n            </Suspense>\n            <Suspense fallback={<div className=\"rounded-xl p-4 bg-gray-800/70 border border-white/10\"><div className=\"animate-pulse space-y-3\"><div className=\"h-5 w-48 bg-gray-700 rounded\" /><div className=\"grid grid-cols-3 gap-3\"><div className=\"h-12 bg-gray-700 rounded\" /><div className=\"h-12 bg-gray-700 rounded\" /><div className=\"h-12 bg-gray-700 rounded\" /></div></div></div>}>\n              <UpcomingSkills />\n            </Suspense>\n          </section>\n        )}\n\n        {activeTab === 'attributes' && (\n          <section className=\"rounded-xl p-4 bg-gray-800/70 border border-white/10\" aria-labelledby=\"attr-title\">\n            <h2 id=\"attr-title\" className=\"text-base sm:text-lg font-semibold text-white mb-3\">Atributos</h2>\n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 text-sm\">\n              {Object.entries(hero.attributes).map(([key, value]) => (\n                <div key={key} className=\"bg-gray-700/50 p-3 rounded-md\">\n                  <div className=\"text-gray-400 capitalize\">{key}</div>\n                  <div className=\"text-white\">{value}</div>\n                </div>\n              ))}\n            </div>\n            <div className=\"mt-4 grid grid-cols-2 md:grid-cols-4 gap-3 text-sm\">\n              {Object.entries(hero.derivedAttributes).map(([key, value]) => (\n                <div key={key} className=\"bg-gray-700/50 p-3 rounded-md\">\n                  <div className=\"text-gray-400 capitalize\">{key}</div>\n                  <div className=\"text-white\">{value as any}</div>\n                </div>\n              ))}\n            </div>\n          </section>\n        )}\n\n        {activeTab === 'inventory' && (\n          <section className=\"rounded-xl p-4 bg-gray-800/70 border border-white/10\" aria-labelledby=\"inv-title\">\n            <h2 id=\"inv-title\" className=\"text-base sm:text-lg font-semibold text-white mb-3\">Invent√°rio</h2>\n            <div className=\"mb-3 flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between\">\n              <input\n                type=\"search\"\n                value={invQuery}\n                onChange={(e) => setInvQuery(e.target.value)}\n                placeholder=\"Buscar itens\"\n                className=\"w-full sm:max-w-xs px-3 py-2 rounded-md bg-gray-700 text-white text-sm placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400\"\n              />\n              <select\n                value={invType}\n                onChange={(e) => setInvType(e.target.value)}\n                className=\"w-full sm:w-auto px-3 py-2 rounded-md bg-gray-700 text-white text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400\"\n              >\n                <option>Todos</option>\n                {Array.from(new Set(inventoryEntries.map(([id]) => (SHOP_ITEMS.find(i => i.id === id)?.type || '')).filter(Boolean))).map(t => (\n                  <option key={t}>{t}</option>\n                ))}\n              </select>\n            </div>\n            {inventoryEntries.length === 0 && (\n              <div className=\"text-sm text-gray-400\">Sem itens no invent√°rio.</div>\n            )}\n            {inventoryEntries.length > 0 && filteredInventoryEntries.length === 0 && (\n              <div className=\"text-sm text-gray-400\">Nenhum item corresponde aos filtros.</div>\n            )}\n            {filteredInventoryEntries.length > 0 && (\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\">\n                {filteredInventoryEntries.map(([itemId, qty]) => {\n                  const item = SHOP_ITEMS.find(i => i.id === itemId);\n                  return (\n                    <div key={itemId} className=\"bg-gray-700/50 p-3 rounded-md\">\n                      <div className=\"text-white font-medium\">{item ? item.name : itemId}</div>\n                      <div className=\"text-xs text-gray-400\">Qtd: {qty}</div>\n                      {item?.rarity && <div className=\"text-xs mt-1 text-gray-300\">Raridade: {item.rarity}</div>}\n                      {item?.type && <div className=\"text-xs text-gray-300\">Tipo: {item.type}</div>}\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n            <div className=\"mt-4\">\n              <h3 className=\"text-sm font-semibold text-white mb-2\">Forja Simples</h3>\n              <div className=\"mb-2\">\n                <Link to=\"/hero-forge\" className=\"inline-flex items-center gap-2 px-2 py-1 rounded bg-amber-600 text-white text-xs hover:bg-amber-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-amber-400\">Ir √† Forja ‚öíÔ∏è</Link>\n              </div>\n              {availableRecipes.length === 0 && (\n                <div className=\"text-xs text-gray-400\">Nenhuma receita dispon√≠vel com seus materiais e rank atual.</div>\n              )}\n              {availableRecipes.length > 0 && (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\n                  {availableRecipes.map(r => (\n                    <div key={r.id} className=\"bg-gray-700/50 p-3 rounded-md flex items-center justify-between\">\n                      <div>\n                        <div className=\"text-white text-sm font-medium\">{r.name}</div>\n                        <div className=\"text-xs text-gray-300\">Insumos: {r.inputs.map(i => `${i.qty}x ${SHOP_ITEMS.find(s => s.id === i.id)?.name || i.id}`).join(', ')}</div>\n                      </div>\n                      <button onClick={() => craftItem(hero.id, r.id)} className=\"px-3 py-1 rounded bg-emerald-600 text-white text-xs hover:bg-emerald-700\">Forjar</button>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </section>\n        )}\n\n        {activeTab === 'journey' && (\n          <section aria-label=\"Jornada\">\n            <Suspense fallback={<div className=\"rounded-xl p-4 bg-gray-800/70 border border-white/10\"><div className=\"animate-pulse space-y-3\"><div className=\"h-5 w-32 bg-gray-700 rounded\" /><div className=\"space-y-2\"><div className=\"h-10 bg-gray-700 rounded\" /><div className=\"h-10 bg-gray-700 rounded\" /><div className=\"h-10 bg-gray-700 rounded\" /></div></div></div>}>\n              <NarrativeChapters />\n            </Suspense>\n          </section>\n        )}\n\n        {activeTab === 'invites' && (\n          <section className=\"rounded-xl p-4 bg-gray-800/70 border border-white/10\" aria-labelledby=\"invite-title\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h2 id=\"invite-title\" className=\"text-base sm:text-lg font-semibold text-white\">Convidar Amigos</h2>\n              <button\n                disabled={creatingInvite}\n                onClick={() => {\n                  setCreatingInvite(true);\n                  const invite = createReferralInvite(hero.id);\n                  if (invite) {\n                    const base = window.location.origin;\n                    const url = `${base}/create?ref=${invite.code}`;\n                    setShareLink(url);\n                  }\n                  setCreatingInvite(false);\n                }}\n                className=\"px-3 py-2 bg-emerald-600 hover:bg-emerald-700 disabled:opacity-60 rounded-md font-bold transition-colors text-sm\"\n              >\n                {creatingInvite ? 'Gerando‚Ä¶' : 'Gerar link de convite'}\n              </button>\n            </div>\n            {shareLink && (\n              <div className=\"bg-gray-700/50 p-3 rounded-md flex items-center justify-between gap-3\">\n                <div className=\"text-sm text-white truncate\" title={shareLink}>{shareLink}</div>\n                <div className=\"flex items-center gap-2\">\n                  {typeof navigator !== 'undefined' && (navigator as any).share && (\n                    <button\n                      onClick={async () => {\n                        try {\n                          await (navigator as any).share({\n                            title: 'Convite para o Forjador de Her√≥is',\n                            text: 'Crie seu her√≥i e entre na aventura! üõ°Ô∏è',\n                            url: shareLink\n                          });\n                        } catch (err) {\n                          console.warn('Compartilhamento nativo cancelado/indispon√≠vel:', err);\n                        }\n                      }}\n                      className=\"px-3 py-2 bg-emerald-600 hover:bg-emerald-700 rounded-md text-sm font-semibold focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400\"\n                    >\n                      Compartilhar\n                    </button>\n                  )}\n                  <button\n                    onClick={async () => {\n                      try {\n                        await navigator.clipboard.writeText(shareLink);\n                        alert('Link copiado para a √°rea de transfer√™ncia!');\n                      } catch {\n                        const ok = window.confirm('N√£o foi poss√≠vel copiar automaticamente. Deseja abrir o link em nova aba?');\n                        if (ok) window.open(shareLink, '_blank');\n                      }\n                    }}\n                    className=\"px-3 py-2 bg-gray-600 hover:bg-gray-500 rounded-md text-sm font-semibold focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-300\"\n                  >\n                    Copiar\n                  </button>\n                </div>\n              </div>\n            )}\n            <div className=\"mt-4\">\n              <h3 className=\"text-sm font-semibold text-gray-200 mb-2\">Seus convites</h3>\n              {myInvites.length === 0 && (\n                <div className=\"text-sm text-gray-400\">Nenhum convite criado ainda.</div>\n              )}\n              {myInvites.length > 0 && (\n                <div className=\"space-y-2\">\n                  {myInvites.map(inv => (\n                    <div key={inv.id} className=\"bg-gray-700/40 p-3 rounded-md flex items-center justify-between\">\n                      <div className=\"text-sm text-gray-200\">\n                        C√≥digo: <span className=\"font-mono text-white\">{inv.code}</span>\n                        <span className=\"ml-3 px-2 py-1 rounded bg-gray-800 text-xs border border-white/10\">{inv.status === 'pending' ? 'pendente' : 'aceito'}</span>\n                        {inv.rewardGranted && <span className=\"ml-2 text-emerald-400 text-xs\">b√¥nus entregue</span>}\n                      </div>\n                      <div className=\"text-xs text-gray-400\">criado em {new Date(inv.createdAt).toLocaleString()}</div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </section>\n        )}\n\n        <footer className=\"flex justify-between\" aria-label=\"A√ß√µes da p√°gina\">\n          <Link to=\"/\" className=\"px-4 sm:px-6 py-2 sm:py-3 bg-gray-700 hover:bg-gray-600 rounded-md font-bold transition-colors text-sm sm:text-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-300\">Voltar</Link>\n          <button onClick={handleDelete} className=\"px-4 sm:px-6 py-2 sm:py-3 bg-red-600 hover:bg-red-700 rounded-md font-bold transition-colors text-sm sm:text-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-400\">Deletar Her√≥i</button>\n        </footer>\n      </div>\n    </article>\n  );\n};\n\nexport default HeroDetail;\n"],"file":"assets/HeroDetail-78e4bc53.js"}