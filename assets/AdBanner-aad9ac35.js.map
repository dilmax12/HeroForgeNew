{"version":3,"file":"AdBanner-aad9ac35.js","sources":["../../src/components/AdBanner.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useMonetizationStore } from '../store/monetizationStore';\nimport { loadAdSense, pushAds } from '../services/adsenseLoader';\nimport { useHeroStore } from '../store/heroStore';\nimport { trackMetric } from '../utils/metricsSystem';\nimport { tokens } from '../styles/designTokens';\n\ninterface Props {\n  slot?: string;\n  style?: React.CSSProperties;\n}\n\nconst AdBanner: React.FC<Props> = ({ slot, style }) => {\n  const { adsEnabled, adsRemoved, adSenseClientId, adSlotBannerTop } = useMonetizationStore();\n  const slotId = slot || adSlotBannerTop;\n\n  const { getSelectedHero } = useHeroStore();\n  const hero = getSelectedHero();\n  useEffect(() => {\n    if (adsRemoved || !adsEnabled) return;\n    loadAdSense(adSenseClientId);\n    const t = setTimeout(() => pushAds(), 250);\n    try { if (hero?.id) trackMetric.adImpression(hero.id, 'banner-top'); } catch {}\n    return () => clearTimeout(t);\n  }, [adsEnabled, adsRemoved, adSenseClientId, hero?.id]);\n\n  if (!adsEnabled || adsRemoved) return null;\n\n  if (!adSenseClientId || !slotId) {\n    return (\n      <div className=\"rounded-lg border border-white/10 bg-white/5 text-center text-xs py-2\" style={style}>\n        Espaço de anúncio\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${tokens.cardBase} border border-gray-700`} style={style || { minHeight: 60 }}>\n      <ins\n        className=\"adsbygoogle block\"\n        style={{ display: 'block', width: '100%', height: 60, background: 'transparent' }}\n        data-ad-client={adSenseClientId}\n        data-ad-slot={slotId}\n        data-ad-format=\"horizontal\"\n        data-full-width-responsive=\"true\"\n      />\n    </div>\n  );\n};\n\nexport default AdBanner;"],"names":["AdBanner","slot","style","adsEnabled","adsRemoved","adSenseClientId","adSlotBannerTop","useMonetizationStore","slotId","getSelectedHero","useHeroStore","hero","useEffect","loadAdSense","t","pushAds","trackMetric","jsx","tokens"],"mappings":"yRAYA,MAAMA,EAA4B,CAAC,CAAE,KAAAC,EAAM,MAAAC,KAAY,CACrD,KAAM,CAAE,WAAAC,EAAY,WAAAC,EAAY,gBAAAC,EAAiB,gBAAAC,CAAA,EAAoBC,IAC/DC,EAASP,GAAQK,EAEjB,CAAE,gBAAAG,GAAoBC,IACtBC,EAAOF,IASb,OARAG,EAAAA,UAAU,IAAM,CACd,GAAIR,GAAc,CAACD,EAAY,OAC/BU,EAAYR,CAAe,EAC3B,MAAMS,EAAI,WAAW,IAAMC,IAAW,GAAG,EACrC,GAAA,CAAMJ,GAAA,MAAAA,EAAM,IAAgBK,EAAA,aAAaL,EAAK,GAAI,YAAY,CAAA,MAAW,CAAC,CACvE,MAAA,IAAM,aAAaG,CAAC,CAAA,EAC1B,CAACX,EAAYC,EAAYC,EAAiBM,GAAA,YAAAA,EAAM,EAAE,CAAC,EAElD,CAACR,GAAcC,EAAmB,KAElC,CAACC,GAAmB,CAACG,EAEpBS,EAAA,IAAA,MAAA,CAAI,UAAU,wEAAwE,MAAAf,EAAc,SAErG,mBAAA,CAAA,EAKDe,EAAAA,IAAA,MAAA,CAAI,UAAW,GAAGC,EAAO,QAAQ,0BAA2B,MAAOhB,GAAS,CAAE,UAAW,EAAA,EACxF,SAAAe,EAAA,IAAC,MAAA,CACC,UAAU,oBACV,MAAO,CAAE,QAAS,QAAS,MAAO,OAAQ,OAAQ,GAAI,WAAY,aAAc,EAChF,iBAAgBZ,EAChB,eAAcG,EACd,iBAAe,aACf,6BAA2B,MAAA,CAE/B,CAAA,CAAA,CAEJ"}