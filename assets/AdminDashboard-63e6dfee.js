import{j as e}from"./motion-3c015c26.js";import{r as c}from"./vendor-374d307f.js";import{u as k,f as O,h as Dt,i as Lt,l as Ut,j as Qe,k as _t,n as Ot,o as be,b as Bt,p as y,d as he,S as $t,s as re,q as ze}from"./index-324810f8.js";import"./router-6c8d423a.js";import"./supabase-4349ac75.js";import"./icons-5fe8db7b.js";const Ft=()=>{const{getSelectedHero:u,importHero:E}=k(),v=u(),[S,P]=c.useState(null),[z,H]=c.useState(null),[B,U]=c.useState(!1),[F,o]=c.useState(null),[I,m]=c.useState(null),[h,w]=c.useState([]);c.useEffect(()=>{async function a(){const{data:f}=await O.auth.getUser(),j=(f==null?void 0:f.user)||null;P((j==null?void 0:j.id)||null),H((j==null?void 0:j.email)||null)}a();const{data:p}=O.auth.onAuthStateChange((f,j)=>{var $,V;P((($=j==null?void 0:j.user)==null?void 0:$.id)||null),H(((V=j==null?void 0:j.user)==null?void 0:V.email)||null)});return()=>{p==null||p.subscription.unsubscribe()}},[]);async function q(){if(!S||!v){o("√â necess√°rio estar logado e ter um her√≥i selecionado.");return}U(!0),o(null),m(null);try{await Lt(S,v),console.log("[SupabaseHeroesSyncPanel] Her√≥i salvo no Supabase"),m("Her√≥i salvo com sucesso.")}catch(a){o((a==null?void 0:a.message)||String(a))}finally{U(!1)}}async function g(){if(!S){o("Fa√ßa login para listar seus her√≥is.");return}U(!0),o(null),m(null);try{const a=await Ut(S);w(a),console.log("[SupabaseHeroesSyncPanel] Her√≥is listados do Supabase",(a==null?void 0:a.length)??0),m(`Her√≥is carregados (${(a==null?void 0:a.length)??0}).`)}catch(a){o((a==null?void 0:a.message)||String(a))}finally{U(!1)}}function x(a){try{const p=Qe(a.data),f=E(p,!0);f||o("Falha ao importar her√≥i."),f&&(console.log("[SupabaseHeroesSyncPanel] Her√≥i importado para o jogo",a.id),m("Her√≥i importado com sucesso."))}catch(p){o((p==null?void 0:p.message)||String(p))}}function T(){try{h.forEach(a=>{const p=Qe(a.data);E(p,!1)}),console.log("[SupabaseHeroesSyncPanel] Todos os her√≥is importados para o jogo"),m("Todos os her√≥is importados.")}catch(a){o((a==null?void 0:a.message)||String(a))}}return e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üóÉÔ∏è Supabase Heroes Sync"}),e.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:["Usu√°rio: ",z?`${z} (id: ${S})`:"‚Äî"]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsx("button",{onClick:q,className:"px-3 py-2 bg-white text-blue-700 border border-blue-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:B||!v||!S,title:S?v?"":"Selecione um her√≥i":"Fa√ßa login para salvar",children:B?"Salvando...":"Salvar her√≥i selecionado no Supabase"}),e.jsx("button",{onClick:g,className:"px-3 py-2 bg-white text-green-700 border border-green-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:B||!S,title:S?"":"Fa√ßa login para listar",children:B?"Carregando...":"Listar her√≥is do Supabase"}),e.jsx("button",{onClick:T,className:"px-3 py-2 bg-white text-amber-700 border border-amber-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:B||h.length===0,title:h.length===0?"Liste her√≥is para importar":"",children:"Importar todos para o jogo"})]}),F&&e.jsxs("div",{className:"text-sm text-red-700 bg-red-50 border border-red-200 rounded p-2 mb-3",children:["Erro: ",F]}),I&&e.jsx("div",{className:"text-sm text-green-700 bg-green-50 border border-green-200 rounded p-2 mb-3",children:I}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[h.length===0&&e.jsx("div",{className:"text-xs text-gray-500",children:"Nenhum her√≥i listado ainda."}),h.map(a=>{var p,f,j,$,V;return e.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["id: ",a.id]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["user_id: ",a.user_id]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["vers√£o: ",String(Dt(a.data))]}),e.jsxs("div",{className:"text-sm text-gray-900",children:["nome: ",String(((p=a==null?void 0:a.data)==null?void 0:p.name)||"‚Äî")]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["classe: ",String(((f=a==null?void 0:a.data)==null?void 0:f.class)||"‚Äî")]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["n√≠vel: ",String((($=(j=a==null?void 0:a.data)==null?void 0:j.progression)==null?void 0:$.level)??((V=a==null?void 0:a.data)==null?void 0:V.level)??"‚Äî")]}),e.jsx("div",{className:"mt-2",children:e.jsx("button",{onClick:()=>x(a),className:"px-3 py-1 bg-white text-amber-700 border border-amber-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Importar este her√≥i"})})]},a.id)})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Requer tabela `heroes` com colunas: id (PK), user_id, data (jsonb), timestamps."})]})},Ht=Ft,Vt=()=>{const{getSelectedHero:u,getHeroQuests:E}=k(),v=u(),S=v?E(v.id):[],[P,z]=c.useState(null),[H,B]=c.useState(null),[U,F]=c.useState(!1),[o,I]=c.useState(null),[m,h]=c.useState([]);c.useEffect(()=>{async function g(){const{data:T}=await O.auth.getUser(),a=(T==null?void 0:T.user)||null;z((a==null?void 0:a.id)||null),B((a==null?void 0:a.email)||null)}g();const{data:x}=O.auth.onAuthStateChange((T,a)=>{var p,f;z(((p=a==null?void 0:a.user)==null?void 0:p.id)||null),B(((f=a==null?void 0:a.user)==null?void 0:f.email)||null)});return()=>{x==null||x.subscription.unsubscribe()}},[]);async function w(){if(!P||!v){I("√â necess√°rio estar logado e ter um her√≥i selecionado.");return}if(S.length===0){I("Nenhuma miss√£o ativa para salvar.");return}F(!0),I(null);try{for(const g of S)await _t(P,v.id,g,"active")}catch(g){I((g==null?void 0:g.message)||String(g))}finally{F(!1)}}async function q(){if(!P||!v){I("Fa√ßa login e selecione um her√≥i.");return}F(!0),I(null);try{const g=await Ot(P,v.id);h(g)}catch(g){I((g==null?void 0:g.message)||String(g))}finally{F(!1)}}return e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üìú Supabase Quests"}),e.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:["Usu√°rio: ",H?`${H} (id: ${P})`:"‚Äî"]}),e.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:["Her√≥i selecionado: ",v?`${v.name} (id: ${v.id})`:"‚Äî"]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsx("button",{onClick:w,className:"px-3 py-2 bg-white text-blue-700 border border-blue-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:U||!P||!v||S.length===0,children:U?"Salvando...":"Salvar miss√µes ativas no Supabase"}),e.jsx("button",{onClick:q,className:"px-3 py-2 bg-white text-green-700 border border-green-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:U||!P||!v,children:U?"Carregando...":"Listar miss√µes do Supabase"})]}),o&&e.jsxs("div",{className:"text-sm text-red-700 bg-red-50 border border-red-200 rounded p-2 mb-3",children:["Erro: ",o]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[m.length===0&&e.jsx("div",{className:"text-xs text-gray-500",children:"Nenhuma miss√£o listada ainda."}),m.map(g=>{var x,T,a;return e.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["id: ",g.id]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["hero_id: ",g.hero_id]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["status: ",g.status||"‚Äî"]}),e.jsxs("div",{className:"text-sm text-gray-900",children:["t√≠tulo: ",String(((x=g==null?void 0:g.data)==null?void 0:x.title)||"‚Äî")]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["dificuldade: ",String(((T=g==null?void 0:g.data)==null?void 0:T.difficulty)||"‚Äî")]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["n√≠vel req: ",String(((a=g==null?void 0:g.data)==null?void 0:a.levelRequirement)??"‚Äî")]})]},g.id)})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Requer tabela `quests` com colunas: id (PK), user_id, hero_id, data (jsonb), status, timestamps."})]})},Gt=Vt;async function Qt(){try{const u=await fetch("/api/backup",{method:"GET"}),E=await u.json();return u.ok?{ok:!0,file:E.file,size:E.size}:{ok:!1,error:(E==null?void 0:E.error)||"Falha ao iniciar backup"}}catch(u){return{ok:!1,error:(u==null?void 0:u.message)||String(u)}}}function Yt(){var Pe,Ie,Te,De,Le,Ue,_e,Oe,Be,$e,Fe,He,Ve,Ge;const u=k(t=>t.heroes);k(t=>t.selectedHeroId);const E=k(t=>t.getSelectedHero),v=k(t=>t.removeHero),S=k(t=>t.resetDailyGoals),P=k(t=>t.gainXP),z=k(t=>t.gainGold),H=k(t=>t.availableQuests),B=k(t=>t.addItemToInventory),U=k(t=>t.sellItem),F=k(t=>t.refreshQuests),o=E(),I=k(t=>t.seedRandomHatred),m=be(t=>({regenHpPerMin:t.regenHpPerMin,regenMpPerMin:t.regenMpPerMin,regenStaminaPerMin:t.regenStaminaPerMin,deathRecoveryMinutes:t.deathRecoveryMinutes,deathPenaltyEnabled:t.deathPenaltyEnabled,restBuffHpMpMultiplier:t.restBuffHpMpMultiplier,restBuffStaminaMultiplier:t.restBuffStaminaMultiplier,restBuffDurationMinutes:t.restBuffDurationMinutes,meditationMpBonusPerMin:t.meditationMpBonusPerMin,meditationDurationMinutes:t.meditationDurationMinutes,meditationCooldownMinutes:t.meditationCooldownMinutes,dungeonRegenMultiplier:t.dungeonRegenMultiplier})),h=be(t=>t.updateSettings),w=be(t=>({npcInteractionDifficulty:t.npcInteractionDifficulty,npcNotificationsMode:t.npcNotificationsMode,npcNotifyMaxPerTick:t.npcNotifyMaxPerTick,npcRelationKnownThreshold:t.npcRelationKnownThreshold,npcRelationFriendThreshold:t.npcRelationFriendThreshold,npcRelationBestFriendThreshold:t.npcRelationBestFriendThreshold,npcDuelRivalryModerate:t.npcDuelRivalryModerate,npcDuelRivalryHigh:t.npcDuelRivalryHigh,npcDuelLevelDiffMax:t.npcDuelLevelDiffMax,npcInteractionCooldownSeconds:t.npcInteractionCooldownSeconds,npcSeedTarget:t.npcSeedTarget,npcVisibleCap:t.npcVisibleCap,npcRotationSeconds:t.npcRotationSeconds})),q=c.useMemo(()=>({heroes:u.length,selected:o?o.name:"‚Äî",level:o?o.progression.level:0}),[u.length,o==null?void 0:o.name,o==null?void 0:o.progression.level]),{activeSeasonalTheme:g}=Bt(),[x,T]=c.useState(()=>y.getEngagementMetrics()),[a,p]=c.useState(()=>y.getGameplayAnalytics()),[f,j]=c.useState(()=>he.getUsageStats()),[$,V]=c.useState(()=>y.getEvents()),[qe,Ke]=c.useState(()=>y.getSessions()),[pe,Je]=c.useState("today"),[Xe,We]=c.useState(new Date().toLocaleString()),[X,Ye]=c.useState(!0);c.useEffect(()=>{const t=()=>{T(y.getEngagementMetrics()),p(y.getGameplayAnalytics()),j(he.getUsageStats()),V(y.getEvents()),Ke(y.getSessions()),We(new Date().toLocaleString())};if(t(),!X)return;const r=setInterval(t,3e4);return()=>clearInterval(r)},[X]);const[Ze,ye]=c.useState(!1),[et,se]=c.useState("‚Äî"),[fe,ve]=c.useState(null),[je,tt]=c.useState([]),[rt,ae]=c.useState("‚Äî"),[st,Ne]=c.useState(!1),[we,oe]=c.useState(null),[R,ie]=c.useState(null),[Y,at]=c.useState(null),[G,ot]=c.useState(""),[Se,Me]=c.useState([]),[it,Ce]=c.useState("‚Äî"),[ne,nt]=c.useState(""),[de,le]=c.useState(0),[dt,W]=c.useState("‚Äî");async function lt(){var t,r;try{const{data:s}=await O.auth.getUser(),l=((t=s==null?void 0:s.user)==null?void 0:t.id)||null;if(!l){alert("Fa√ßa login para importar seus dados");return}const i=loadLocalHeroes(l),d=loadLocalQuests(l);let n=0;for(const N of i)(await fetch("/api/hero-create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:l,hero:N})})).ok&&n++;let b=0;for(const N of d)(await fetch("/api/missions?action=generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:l,hero_id:N.heroId,prompt:((r=N.data)==null?void 0:r.prompt)||"Miss√£o importada",context:N.data||{}})})).ok&&b++;alert(`Importa√ß√£o conclu√≠da: ${n} her√≥i(s), ${b} miss√£o(√µes).`)}catch(s){alert((s==null?void 0:s.message)||String(s))}}async function ct(){ye(!0),ve(null),se("Conectando...");try{const{data:t,error:r}=await O.from("players").select("*").limit(5);if(r)throw r;tt(Array.isArray(t)?t:[]),se(`OK (${Array.isArray(t)?t.length:0} players)`)}catch(t){ve((t==null?void 0:t.message)||String(t)),se("Erro")}finally{ye(!1)}}async function gt(){ae("Executando...");const t=await Qt();t.ok?ae(`OK (${t.file})`):ae(`Erro: ${t.error}`)}async function ut(){var t;Ne(!0),oe(null);try{const{data:r}=await O.auth.getUser(),s=((t=r==null?void 0:r.user)==null?void 0:t.id)||null;if(!s)oe("Fa√ßa login para ver seu progresso."),ie(null);else{const l=await fetch(`/api/player-progress?action=get&id=${encodeURIComponent(s)}`),i=await l.json();if(!l.ok)throw new Error((i==null?void 0:i.error)||"Falha ao carregar progresso");ie((i==null?void 0:i.progress)||null);const d=await fetch(`/api/users?action=get&id=${encodeURIComponent(s)}`),n=await d.json();d.ok&&at((n==null?void 0:n.profile)||null)}}catch(r){oe((r==null?void 0:r.message)||String(r)),ie(null)}finally{Ne(!1)}}async function ce(){var t;try{const r=new URLSearchParams;ne&&r.set("type",ne),r.set("limit","20"),r.set("offset",String(de));const{data:s}=await O.auth.getSession(),l=((t=s==null?void 0:s.session)==null?void 0:t.access_token)||"",i={};l&&(i.Authorization=`Bearer ${l}`),G&&(i["x-admin-token"]=G);const d=await fetch(`/api/logs?${r.toString()}`,{headers:i}),n=await d.json();if(!d.ok)throw new Error((n==null?void 0:n.error)||"Falha ao listar logs");Me(Array.isArray(n==null?void 0:n.files)?n.files:[])}catch(r){Me([]),console.error("fetchLogs error",(r==null?void 0:r.message)||String(r))}}async function mt(t){var r;try{const{data:s}=await O.auth.getSession(),l=((r=s==null?void 0:s.session)==null?void 0:r.access_token)||"",i={};l&&(i.Authorization=`Bearer ${l}`),G&&(i["x-admin-token"]=G);const d=await fetch(`/api/logs?action=get&name=${encodeURIComponent(t)}`,{headers:i}),n=await d.json();if(!d.ok)throw new Error((n==null?void 0:n.error)||"Falha ao obter log");const b=n!=null&&n.json?JSON.stringify(n.json,null,2):(n==null?void 0:n.content)||"‚Äî";Ce(b)}catch(s){Ce((s==null?void 0:s.message)||String(s))}}async function xt(){var t,r;try{W("Exportando...");const{data:s}=await O.auth.getUser(),l=((t=s==null?void 0:s.user)==null?void 0:t.id)||null;if(!l){W("Sem login");return}const{data:i}=await O.auth.getSession(),d=((r=i==null?void 0:i.session)==null?void 0:r.access_token)||"",n={};d&&(n.Authorization=`Bearer ${d}`),G&&(n["x-admin-token"]=G);const b=await fetch(`/api/export-user?id=${encodeURIComponent(l)}`,{headers:n}),N=await b.text();if(!b.ok){W("Erro");return}const D=new Blob([N],{type:"application/json"}),L=URL.createObjectURL(D),Q=document.createElement("a");Q.href=L,Q.download=`hfn-user-${l}-${Date.now()}.json`,Q.click(),URL.revokeObjectURL(L),W("OK")}catch(s){W((s==null?void 0:s.message)||"Erro")}}function bt(){if(!o)return;const t=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=`hero-${o.name}.json`,s.click(),URL.revokeObjectURL(r)}function ht(){try{localStorage.clear(),window.location.reload()}catch{}}function pt(){o&&v(o.id)}const ke=c.useMemo(()=>{const t={},r={},s={};u.forEach(i=>{var b;const d=i.class;t[d]=(t[d]||0)+1,r[d]=(r[d]||0)+(((b=i.progression)==null?void 0:b.level)||i.level||1);const n=i.attributes;s[d]=s[d]||{forca:0,destreza:0,constituicao:0,inteligencia:0,sabedoria:0,carisma:0},s[d].forca+=n.forca,s[d].destreza+=n.destreza,s[d].constituicao+=n.constituicao,s[d].inteligencia+=n.inteligencia,s[d].sabedoria+=n.sabedoria,s[d].carisma+=n.carisma});const l=Object.keys(t).map(i=>({cls:i,count:t[i],avgLevel:t[i]?Math.round((r[i]||0)/t[i]):0,avgAttrs:t[i]?Object.fromEntries(Object.entries(s[i]).map(([d,n])=>[d,Math.round(n/t[i])])):{forca:0,destreza:0,constituicao:0,inteligencia:0,sabedoria:0,carisma:0}}));return l.sort((i,d)=>d.count-i.count),l},[u]),Z=c.useMemo(()=>{const t=u.reduce((i,d)=>{var n;return i+(((n=d.stats)==null?void 0:n.questsCompleted)||0)},0),r=u.length?Math.round(t/u.length):0,s=u.length?Math.round(u.reduce((i,d)=>{var n;return i+(((n=d.activeQuests)==null?void 0:n.length)||0)},0)/u.length):0,l=(H||[]).filter(i=>i.isGuildQuest).length;return{totalCompleted:t,avgCompletedPerHero:r,avgActivePerHero:s,guildQuestsAvailable:l}},[u,H]),ee=c.useMemo(()=>{const t=u.reduce((i,d)=>{var n;return i+(((n=d.progression)==null?void 0:n.gold)||0)},0),r=u.length?Math.round(t/u.length):0,s={};u.forEach(i=>{var n;const d=((n=i.inventory)==null?void 0:n.items)||{};Object.entries(d).forEach(([b,N])=>{s[b]=(s[b]||0)+(N||0)})});const l=Object.entries(s).sort((i,d)=>d[1]-i[1]).slice(0,5);return{totalGold:t,avgGold:r,topItems:l}},[u]),A=c.useMemo(()=>{var Q,te;const t=o,r=(t==null?void 0:t.derivedAttributes.hp)||0,s=(t==null?void 0:t.derivedAttributes.currentHp)??r,l=(t==null?void 0:t.derivedAttributes.mp)||0,i=(t==null?void 0:t.derivedAttributes.currentMp)??l,d=((Q=t==null?void 0:t.stamina)==null?void 0:Q.max)??100,n=((te=t==null?void 0:t.stamina)==null?void 0:te.current)??(t==null?void 0:t.stamina)??0,b=r>s?Math.ceil((r-s)/Math.max(1,m.regenHpPerMin)):0,N=l>i?Math.ceil((l-i)/Math.max(1,m.regenMpPerMin)):0,D=d>n?Math.ceil((d-n)/Math.max(1,m.regenStaminaPerMin)):0,L=Math.max(0,Math.min(d,Math.floor(m.regenStaminaPerMin*15)));return{hpToFull:b,mpToFull:N,stToFullBase:D,stRecoveryInDungeon15:L,questCd:{rapida:10,padrao:20,epica:50},huntingCdByRank:{F:8,E:12,D:15,C:20,B:25,A:30,S:40},dungeonCd:15}},[o==null?void 0:o.id,(Pe=o==null?void 0:o.derivedAttributes)==null?void 0:Pe.hp,(Ie=o==null?void 0:o.derivedAttributes)==null?void 0:Ie.currentHp,(Te=o==null?void 0:o.derivedAttributes)==null?void 0:Te.mp,(De=o==null?void 0:o.derivedAttributes)==null?void 0:De.currentMp,(Le=o==null?void 0:o.stamina)==null?void 0:Le.current,(Ue=o==null?void 0:o.stamina)==null?void 0:Ue.max,m.regenHpPerMin,m.regenMpPerMin,m.regenStaminaPerMin]),[K,Re]=c.useState({xp:100,gold:100});function yt(){o&&(K.xp&&P(o.id,K.xp),K.gold&&z(o.id,K.gold))}function ft(){var r;const t=((r=o==null?void 0:o.progression)==null?void 0:r.level)||1;F(t)}function vt(){const t=y.getKPIDashboard(),r=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),s=URL.createObjectURL(r),l=document.createElement("a");l.href=s,l.download="kpi-dashboard.json",l.click(),URL.revokeObjectURL(s)}function jt(){const t=y.getKPIDashboard(),r=[];r.push(["section","key","value"]);const s=(b,N)=>{Object.entries(N||{}).forEach(([D,L])=>{L&&typeof L=="object"&&!Array.isArray(L)?Object.entries(L).forEach(([Q,te])=>r.push([b,`${D}.${Q}`,String(te)])):Array.isArray(L)?r.push([b,D,JSON.stringify(L)]):r.push([b,D,String(L)])})};s("overview",t.overview),s("engagement",t.engagement),s("gameplay",t.gameplay),s("performance",t.performance),s("trends",t.trends);const l=r.map(b=>b.map(N=>`"${String(N).replace(/"/g,'""')}"`).join(",")).join(`
`),i=new Blob([l],{type:"text/csv"}),d=URL.createObjectURL(i),n=document.createElement("a");n.href=d,n.download="kpi-dashboard.csv",n.click(),URL.revokeObjectURL(d)}function Nt(){const t=y.getKPIDashboard(),r={timestamp:new Date().toISOString(),timeframe:pe,kpi:t,engagement:x,gameplay:a,aiUsage:f,sessions:qe,heroes:u.map(d=>{var n,b,N,D;return{id:d.id,name:d.name,class:d.class,level:((n=d.progression)==null?void 0:n.level)||d.level||1,questsCompleted:((b=d.stats)==null?void 0:b.questsCompleted)||0,totalCombats:((N=d.stats)==null?void 0:N.totalCombats)||0,gold:((D=d.progression)==null?void 0:D.gold)||0,createdAt:d.createdAt,updatedAt:d.updatedAt}})},s=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),l=URL.createObjectURL(s),i=document.createElement("a");i.href=l,i.download=`hero-forge-unified-metrics-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(l)}const[M,C]=c.useState({});function wt(){h(M),C({})}const[_,St]=c.useState("Masmorra da N√©voa"),J=c.useMemo(()=>{const t=$.filter(l=>{var i;return l.eventType==="quest-started"&&((i=l.data)==null?void 0:i.dungeonName)===_}),r=$.filter(l=>{var i;return l.eventType==="quest-failed"&&((i=l.data)==null?void 0:i.dungeonName)===_}),s=t.length||r.length+$.filter(l=>{var i;return l.eventType==="quest-completed"&&((i=l.data)==null?void 0:i.dungeonName)===_}).length;return s===0?0:r.length/s},[$,_]),[Ae,Mt]=c.useState(50);function Ct(){const t=(o==null?void 0:o.id)||`sandbox-${Math.random().toString(36).slice(2,7)}`;for(let r=0;r<Ae;r++)y.trackEvent("page-visited",t,{page:"/masmorra"}),y.trackEvent("quest-started",t,{questName:"Masmorra da N√©voa",dungeonName:_}),Math.random()<.65?y.trackEvent("quest-failed",t,{questName:"Masmorra da N√©voa",dungeonName:_,difficulty:"alto",failure_rate:.65}):(y.trackEvent("quest-completed",t,{questName:"Masmorra da N√©voa",dungeonName:_}),y.trackEvent("xp-gained",t,{amount:Math.floor(Math.random()*120)+30}),y.trackEvent("gold-gained",t,{amount:Math.floor(Math.random()*60)}));T(y.getEngagementMetrics()),p(y.getGameplayAnalytics()),V(y.getEvents())}const[ge,kt]=c.useState("Gere um relat√≥rio semanal com tom de ferreiro medieval."),[Rt,Ee]=c.useState(""),[ue,At]=c.useState(()=>{try{const t=localStorage.getItem("admin-ai-reports-log");return t?JSON.parse(t):[]}catch{return[]}}),[me,Et]=c.useState(""),[xe,Pt]=c.useState(1),It=c.useMemo(()=>{const t=me.trim().toLowerCase(),r=new Set;return $t.filter(l=>r.has(l.id)?!1:(r.add(l.id),t?l.id.toLowerCase().includes(t)||String(l.name||"").toLowerCase().includes(t):!0))},[me]);async function Tt(){const t=y.getKPIDashboard(),r=`Resumo:
DAU: ${t.engagement.dailyActiveUsers}, WAU: ${t.engagement.weeklyActiveUsers}, MAU: ${t.engagement.monthlyActiveUsers}
Reten√ß√£o7: ${(t.engagement.retentionRate.day7*100).toFixed(1)}%, Reten√ß√£o30: ${(t.engagement.retentionRate.day30*100).toFixed(1)}%
Miss√µes: ${t.gameplay.totalQuestsCompleted}, XP: ${t.gameplay.totalXpGained}, Ouro: ${t.gameplay.totalGoldEarned}
Classe Popular: ${t.gameplay.mostPopularClass}
Falha na ${_}: ${(J*100).toFixed(1)}%`,s="Voc√™ √© o Forjador, narrador medieval que analisa m√©tricas de um reino de her√≥is. Escreva com voz tem√°tica, clara e √∫til para administra√ß√£o do jogo. Seja conciso e coloque recomenda√ß√µes pr√°ticas.";try{const l=await he.generateText({prompt:ge,context:r,systemMessage:s,maxTokens:600,temperature:.7}),i=(l==null?void 0:l.text)||"";Ee(i);const n=[{timestamp:new Date().toISOString(),prompt:`${s}
${ge}
${r}`,report:i},...ue].slice(0,20);At(n),localStorage.setItem("admin-ai-reports-log",JSON.stringify(n))}catch{const i=`Os Arqueiros prosperam, mas os Magos sofrem nas sombras. Reten√ß√£o em ${(t.engagement.retentionRate.day7*100).toFixed(1)}%. Falhas altas em ${_} (${(J*100).toFixed(1)}%). Ajuste dificuldade e ofertas de po√ß√µes.`;Ee(i)}}return e.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"üìä Painel Admin"}),e.jsx("p",{className:"text-lg opacity-90",children:"M√©tricas e an√°lises do Hero Forge"}),e.jsxs("p",{className:"text-xs opacity-90 mt-1",children:["√öltima atualiza√ß√£o: ",Xe]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:pe,onChange:t=>Je(t.target.value),className:"bg-white text-gray-800 px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"today",children:"Hoje"}),e.jsx("option",{value:"week",children:"√öltima Semana"}),e.jsx("option",{value:"all",children:"Todos os Tempos"})]}),e.jsx("button",{onClick:()=>Ye(!X),className:`px-3 py-2 rounded font-medium border transition-colors ${X?"bg-white text-indigo-600 border-indigo-300 hover:bg-gray-100":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"} focus:outline-none focus:ring-2 focus:ring-indigo-500`,children:X?"üîÑ Auto":"‚èπÔ∏è Manual"}),e.jsx("button",{onClick:Nt,className:"bg-white text-indigo-600 px-4 py-2 rounded border border-indigo-300 hover:bg-gray-100 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"üì• Exportar Dados"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 min-h-[120px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total de Her√≥is"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:q.heroes})]}),e.jsx("div",{className:"text-4xl",children:"üë•"})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 min-h-[120px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Selecionado"}),e.jsx("p",{className:"text-xl font-semibold text-gray-900 truncate",children:q.selected})]}),e.jsx("div",{className:"text-4xl",children:"üéØ"})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 min-h-[120px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"N√≠vel"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:q.level})]}),e.jsx("div",{className:"text-4xl",children:"‚¨ÜÔ∏è"})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 min-h-[120px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"DAU / Reten√ß√£o7"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[(x==null?void 0:x.dailyActiveUsers)||0," / ",(((_e=x==null?void 0:x.retentionRate)==null?void 0:_e.day7)||0)*100,"%"]})]}),e.jsx("div",{className:"text-4xl",children:"üìà"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üéÆ Seu Progresso"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("button",{onClick:ut,className:"px-3 py-2 bg-white text-indigo-700 border border-indigo-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:st?"Carregando...":"Atualizar agora"}),we&&e.jsx("div",{className:"text-sm text-red-700 bg-red-50 border border-red-200 rounded px-2 py-1",children:we})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Miss√µes conclu√≠das"}),e.jsx("div",{className:"text-2xl text-gray-900",children:(R==null?void 0:R.missions_completed)??"‚Äî"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Conquistas"}),e.jsx("div",{className:"text-2xl text-gray-900",children:(R==null?void 0:R.achievements_unlocked)??"‚Äî"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Tempo de jogo (min)"}),e.jsx("div",{className:"text-2xl text-gray-900",children:(R==null?void 0:R.playtime_minutes)??"‚Äî"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"√öltimo login"}),e.jsx("div",{className:"text-xs text-gray-900",children:R!=null&&R.last_login?new Date(R.last_login).toLocaleString():"‚Äî"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Criado em"}),e.jsx("div",{className:"text-xs text-gray-900",children:Y!=null&&Y.created_at?new Date(Y.created_at).toLocaleString():"‚Äî"})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx("button",{onClick:xt,className:"px-3 py-2 bg-white text-indigo-700 border border-indigo-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Exportar dados (JSON)"}),e.jsxs("div",{className:"text-sm text-gray-700",children:["Export: ",dt]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"WAU / MAU"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[(x==null?void 0:x.weeklyActiveUsers)||0," / ",(x==null?void 0:x.monthlyActiveUsers)||0]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Miss√µes conclu√≠das"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(a==null?void 0:a.totalQuestsCompleted)||0})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ouro total ganho"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:(a==null?void 0:a.totalGoldEarned)||0})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"XP total ganho"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:(a==null?void 0:a.totalXpGained)||0})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"‚öîÔ∏è A√ß√µes r√°pidas"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{className:"px-3 py-2 bg-white text-amber-800 border border-amber-300 hover:bg-gray-100 transition-colors rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",onClick:bt,disabled:!o,children:"Exportar her√≥i selecionado"}),e.jsx("button",{className:"px-3 py-2 bg-white text-red-800 border border-red-300 hover:bg-gray-100 transition-colors rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",onClick:pt,disabled:!o,children:"Remover her√≥i selecionado"}),e.jsx("button",{className:"px-3 py-2 bg-white text-blue-800 border border-blue-300 hover:bg-gray-100 transition-colors rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",onClick:S,children:"Resetar metas di√°rias"}),e.jsx("button",{className:"px-3 py-2 bg-white text-gray-800 border border-gray-300 hover:bg-gray-100 transition-colors rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",onClick:ht,children:"Limpar armazenamento"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üìú Ambiente"}),e.jsxs("div",{className:"text-sm text-gray-700",children:["Modo: ","produ√ß√£o"]}),e.jsx("div",{className:"text-sm text-gray-700",children:"Vite: ativo"}),e.jsxs("div",{className:"text-sm text-gray-700",children:["Chaves conhecidas: ",Object.keys({VITE_GITHUB_PAGES:"true",VITE_OPENAI_API_KEY:"demo_key_for_build",VITE_AI_SERVICE_PROVIDER:"openrouter",VITE_GOOGLE_API_KEY:"demo_key_for_build",VITE_ANTHROPIC_API_KEY:"demo_key_for_build",VITE_OPENAI_API_URL:"https://openrouter.ai/api/v1",VITE_GOOGLE_API_URL:"https://generativelanguage.googleapis.com/v1beta",VITE_ANTHROPIC_API_URL:"https://api.anthropic.com",BASE_URL:"/HeroForgeNew/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}).filter(t=>t.startsWith("VITE_")).join(", ")||"‚Äî"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üóÑÔ∏è Supabase"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsx("button",{onClick:ct,className:"px-3 py-2 bg-white text-green-700 border border-green-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:Ze?"Conectando...":"Testar conex√£o (tabela players)"}),e.jsxs("div",{className:"text-sm text-gray-700",children:["Status: ",et]}),e.jsx("button",{onClick:gt,className:"px-3 py-2 bg-white text-purple-700 border border-purple-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Fazer backup agora"}),e.jsxs("div",{className:"text-sm text-gray-700",children:["Backup: ",rt]}),e.jsx("button",{onClick:lt,className:"px-3 py-2 bg-white text-indigo-700 border border-indigo-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Importar dados locais"})]}),fe&&e.jsxs("div",{className:"text-sm text-red-700 bg-red-50 border border-red-200 rounded p-2 mb-3",children:["Erro: ",fe]}),e.jsx("div",{className:"text-sm text-gray-700",children:"Resultado (at√© 5 registros):"}),e.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-2",children:[je.length===0&&e.jsx("div",{className:"text-xs text-gray-500",children:"Nenhum registro retornado. Crie dados na tabela `players` ou revise RLS."}),je.map((t,r)=>e.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["id: ",String(t.id??"‚Äî")]}),e.jsxs("div",{className:"text-sm text-gray-900",children:["username: ",String(t.username??"‚Äî")]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["created_at: ",String(t.created_at??"‚Äî")]})]},r))]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Dica: configure `VITE_SUPABASE_URL` e `VITE_SUPABASE_ANON_KEY` em `.env.local`. Se RLS bloquear, ajuste pol√≠ticas para leitura p√∫blica de `players` em desenvolvimento."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üßæ Logs (Admin)"}),e.jsxs("div",{className:"flex items-end gap-2 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Admin Token"}),e.jsx("input",{value:G,onChange:t=>ot(t.target.value),className:"bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Bearer token"})]}),!G&&e.jsx("div",{className:"text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded px-2 py-1",children:"Defina ADMIN_API_TOKEN no servidor para listar logs em produ√ß√£o"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Tipo"}),e.jsxs("select",{value:ne,onChange:t=>{nt(t.target.value),le(0)},className:"bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"Todos"}),e.jsx("option",{value:"backup-",children:"Backup"}),e.jsx("option",{value:"evt-",children:"Eventos"})]})]}),e.jsx("button",{onClick:ce,className:"px-3 py-2 bg-white text-purple-700 border border-purple-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Listar logs"}),e.jsx("button",{onClick:()=>{le(Math.max(0,de-20)),ce()},className:"px-2 py-2 bg-white text-gray-700 border border-gray-300 rounded",children:"Prev"}),e.jsx("button",{onClick:()=>{le(de+20),ce()},className:"px-2 py-2 bg-white text-gray-700 border border-gray-300 rounded",children:"Next"})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-2",children:[Se.length===0&&e.jsx("div",{className:"text-xs text-gray-500",children:"‚Äî"}),Se.map((t,r)=>e.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 text-xs text-gray-700 flex items-center justify-between gap-2",children:[e.jsxs("span",{children:[String((t==null?void 0:t.name)||"‚Äî")," ‚Ä¢ ",String((t==null?void 0:t.created_at)||"")]}),e.jsx("button",{onClick:()=>mt(String((t==null?void 0:t.name)||"")),className:"px-2 py-1 bg-white text-gray-800 border border-gray-300 rounded",children:"Ver"})]},r))]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-gray-700 mb-1",children:"Pr√©via"}),e.jsx("pre",{className:"bg-white p-3 rounded border border-gray-200 text-xs text-gray-700 overflow-auto max-h-64 whitespace-pre-wrap",children:it})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Dica: configure `ADMIN_API_TOKEN` no ambiente do servidor. Apenas para produ√ß√£o."})]}),e.jsx(Ht,{}),e.jsx(Gt,{}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"‚öôÔ∏è Configura√ß√µes de Jogo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Regenera√ß√£o de HP (pontos por minuto)"}),e.jsx("input",{type:"number",min:0,className:"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:m.regenHpPerMin,onChange:t=>h({regenHpPerMin:Math.max(0,Number(t.target.value))})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Regenera√ß√£o de Mana (pontos por minuto)"}),e.jsx("input",{type:"number",min:0,className:"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:m.regenMpPerMin,onChange:t=>h({regenMpPerMin:Math.max(0,Number(t.target.value))})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Fadiga √© gerida por descanso"}),e.jsx("input",{type:"number",min:0,className:"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:m.regenStaminaPerMin,onChange:t=>h({regenStaminaPerMin:Math.max(0,Number(t.target.value))})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Penalidade de morte habilitada"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:m.deathPenaltyEnabled,onChange:t=>h({deathPenaltyEnabled:t.target.checked})}),e.jsx("span",{className:"text-gray-600 text-sm",children:"Bloqueia a√ß√µes durante recupera√ß√£o"})]}),e.jsx("label",{className:"block text-sm text-gray-600 mt-3 mb-2",children:"Tempo de recupera√ß√£o ap√≥s morte (minutos)"}),e.jsx("input",{type:"number",min:0,className:"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:m.deathRecoveryMinutes,onChange:t=>h({deathRecoveryMinutes:Math.max(0,Number(t.target.value))})}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Nota: O tempo ser√° aplicado em fluxos de masmorra compat√≠veis."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Multiplicador de descanso (HP/MP)"}),e.jsx("input",{type:"number",step:.1,className:"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:Number(m.restBuffHpMpMultiplier??1.5),onChange:t=>h({restBuffHpMpMultiplier:Number(t.target.value)})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Multiplicador de descanso (HP/MP)"}),e.jsx("input",{type:"number",step:.1,className:"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:Number(m.restBuffStaminaMultiplier??2),onChange:t=>h({restBuffStaminaMultiplier:Number(t.target.value)})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Dura√ß√£o do descanso (min)"}),e.jsx("input",{type:"number",className:"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:Number(m.restBuffDurationMinutes??10),onChange:t=>h({restBuffDurationMinutes:Math.max(0,Number(t.target.value))})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"B√¥nus de Medita√ß√£o (MP/min)"}),e.jsx("input",{type:"number",className:"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:Number(m.meditationMpBonusPerMin??8),onChange:t=>h({meditationMpBonusPerMin:Math.max(0,Number(t.target.value))})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Dura√ß√£o da Medita√ß√£o (min)"}),e.jsx("input",{type:"number",className:"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:Number(m.meditationDurationMinutes??2),onChange:t=>h({meditationDurationMinutes:Math.max(0,Number(t.target.value))})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Cooldown da Medita√ß√£o (min)"}),e.jsx("input",{type:"number",className:"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:Number(m.meditationCooldownMinutes??10),onChange:t=>h({meditationCooldownMinutes:Math.max(0,Number(t.target.value))})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Multiplicador de regen em Dungeon"}),e.jsx("input",{type:"number",step:.1,className:"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:Number(m.dungeonRegenMultiplier??.5),onChange:t=>h({dungeonRegenMultiplier:Number(t.target.value)})})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"‚è±Ô∏è Ciclos de Jogo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Tempo at√© recuperar"}),e.jsxs("ul",{className:"mt-2 text-sm text-gray-900",children:[e.jsxs("li",{children:["HP: ",A.hpToFull," min"]}),e.jsxs("li",{children:["MP: ",A.mpToFull," min"]}),e.jsx("li",{children:"Fadiga: sem regenera√ß√£o autom√°tica"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Dica: gerencie fadiga com descanso adequado"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Cooldowns alvo"}),e.jsxs("ul",{className:"mt-2 text-sm text-gray-900",children:[e.jsxs("li",{children:["Miss√£o r√°pida: ",A.questCd.rapida," min"]}),e.jsxs("li",{children:["Miss√£o padr√£o: ",A.questCd.padrao," min"]}),e.jsxs("li",{children:["Miss√£o √©pica: ",A.questCd.epica," min"]}),e.jsxs("li",{children:["Ca√ßa (por rank): F ",A.huntingCdByRank.F," ‚Ä¢ E ",A.huntingCdByRank.E," ‚Ä¢ D ",A.huntingCdByRank.D," ‚Ä¢ C ",A.huntingCdByRank.C," ‚Ä¢ B ",A.huntingCdByRank.B," ‚Ä¢ A ",A.huntingCdByRank.A," ‚Ä¢ S ",A.huntingCdByRank.S," min"]}),e.jsxs("li",{children:["Masmorra: ",A.dungeonCd," min"]})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Ajuste os sliders acima para ver o impacto nos tempos."})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìà M√©tricas e Reten√ß√£o"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Usu√°rios Di√°rios (DAU)"}),e.jsx("div",{className:"text-2xl text-gray-900",children:x.dailyActiveUsers})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Usu√°rios Semanais (WAU)"}),e.jsx("div",{className:"text-2xl text-gray-900",children:x.weeklyActiveUsers})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Usu√°rios Mensais (MAU)"}),e.jsx("div",{className:"text-2xl text-gray-900",children:x.monthlyActiveUsers})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Reten√ß√£o (7 dias)"}),e.jsxs("div",{className:"text-2xl text-indigo-600",children:[(x.retentionRate.day7*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 min-h-[96px]",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Reten√ß√£o (30 dias)"}),e.jsxs("div",{className:"text-2xl text-indigo-600",children:[(x.retentionRate.day30*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"A√ß√µes por sess√£o"}),e.jsx("div",{className:"text-2xl text-gray-900",children:x.averageActionsPerSession.toFixed(1)})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üß≠ Classes e Estat√≠sticas de Her√≥is"}),ke.length===0?e.jsx("div",{className:"text-sm text-gray-500",children:"Nenhum her√≥i registrado ainda."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ke.map(t=>e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"text-gray-900 font-semibold capitalize",children:t.cls}),e.jsxs("div",{className:"text-gray-600 text-sm",children:[t.count," her√≥is"]})]}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["N√≠vel m√©dio: ",e.jsx("span",{className:"text-gray-900 font-medium",children:t.avgLevel})]}),e.jsx("div",{className:"mt-3 text-xs text-gray-600",children:"Atributos m√©dios"}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mt-1 text-xs text-gray-700",children:Object.entries(t.avgAttrs).map(([r,s])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"capitalize",children:r}),e.jsx("span",{className:"text-gray-900",children:s})]},r))})]},t.cls))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üè∞ Miss√µes e Masmorras"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total conclu√≠das"}),e.jsx("div",{className:"text-2xl text-gray-900",children:Z.totalCompleted})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"M√©dia por her√≥i"}),e.jsx("div",{className:"text-2xl text-gray-900",children:Z.avgCompletedPerHero})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Ativas por her√≥i"}),e.jsx("div",{className:"text-2xl text-gray-900",children:Z.avgActivePerHero})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Quests de guilda dispon√≠veis"}),e.jsx("div",{className:"text-2xl text-gray-900",children:Z.guildQuestsAvailable})]})]}),e.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Dica: use o bot√£o abaixo para for√ßar atualiza√ß√£o do Quadro de Miss√µes com base no n√≠vel do her√≥i selecionado."}),e.jsx("button",{className:"mt-2 px-3 py-2 bg-white text-indigo-600 border border-indigo-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",onClick:ft,disabled:!o,children:"Atualizar Quadro de Miss√µes"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"ü™ô Economia e Loja"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Ouro total no sistema"}),e.jsx("div",{className:"text-2xl text-gray-900",children:ee.totalGold})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Ouro m√©dio por her√≥i"}),e.jsx("div",{className:"text-2xl text-gray-900",children:ee.avgGold})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Itens mais comuns no invent√°rio"}),e.jsxs("ul",{className:"mt-2 text-sm text-gray-700",children:[ee.topItems.length===0&&e.jsx("li",{className:"text-gray-500",children:"‚Äî"}),ee.topItems.map(([t,r])=>e.jsxs("li",{children:[t,": ",e.jsx("span",{className:"text-gray-900 font-medium",children:r})]},t))]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üéí Gest√£o de Itens"}),e.jsxs("div",{className:"flex items-end gap-3 mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Buscar"}),e.jsx("input",{value:me,onChange:t=>Et(t.target.value),className:"w-full bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"id ou nome do item"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Quantidade"}),e.jsx("input",{type:"number",min:1,value:xe,onChange:t=>Pt(Math.max(1,Number(t.target.value))),className:"w-24 bg-white text-gray-900 rounded px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:It.map(t=>e.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono text-xs bg-gray-100 border border-gray-200 px-1 rounded",children:t.id}),e.jsx("span",{className:"text-sm text-gray-900",children:t.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-2 py-1 bg-white text-green-700 border border-green-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",onClick:()=>{o&&B(o.id,t.id,xe)},disabled:!o,children:"Adicionar"}),e.jsx("button",{className:"px-2 py-1 bg-white text-red-700 border border-red-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",onClick:()=>{o&&U(o.id,t.id,xe)},disabled:!o,children:"Remover"})]})]},t.id))}),!o&&e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Selecione um her√≥i para aplicar altera√ß√µes de invent√°rio."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üß† IA e Narrativas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Requisi√ß√µes totais"}),e.jsx("div",{className:"text-2xl text-gray-900",children:f.totalRequests})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Tempo m√©dio de resposta"}),e.jsxs("div",{className:"text-2xl text-gray-900",children:[Math.round(f.averageResponseTime),"ms"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Taxa de erro"}),e.jsx("div",{className:"text-2xl text-gray-900",children:(f.errorRate||0).toFixed(2)})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Por tipo"}),e.jsxs("ul",{className:"mt-2 text-sm text-gray-700",children:[Object.keys(f.requestsByType||{}).length===0&&e.jsx("li",{className:"text-gray-500",children:"‚Äî"}),Object.entries(f.requestsByType||{}).map(([t,r])=>e.jsxs("li",{children:[t,": ",e.jsx("span",{className:"text-gray-900 font-medium",children:r})]},t))]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üõ†Ô∏è Relat√≥rios e Exporta√ß√£o"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Prompt do Forjador"}),e.jsx("textarea",{className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 h-24 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:ge,onChange:t=>kt(t.target.value)}),e.jsxs("button",{className:`mt-2 px-3 py-2 text-white rounded bg-gradient-to-r ${((Oe=re[g||""])==null?void 0:Oe.buttonGradient)||"from-amber-600 to-yellow-600"} hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex items-center gap-2`,onClick:Tt,children:[(($e=(Be=re[g||""])==null?void 0:Be.accents)==null?void 0:$e[0])||"",e.jsx("span",{children:"Gerar relat√≥rio"})]}),e.jsx("div",{className:"mt-3 text-xs text-gray-500",children:"Dica: Ele narra com voz medieval e sugere ajustes."})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Relat√≥rio gerado"}),e.jsx("div",{className:"bg-white text-gray-800 border border-gray-200 rounded p-3 whitespace-pre-wrap text-sm min-h-[96px]",children:Rt||"‚Äî"}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsxs("button",{className:`px-3 py-2 text-white rounded bg-gradient-to-r ${ze(g)} hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex items-center gap-2`,onClick:vt,children:[((He=(Fe=re[g||""])==null?void 0:Fe.accents)==null?void 0:He[0])||"",e.jsx("span",{children:"Exportar .json"})]}),e.jsxs("button",{className:`px-3 py-2 text-white rounded bg-gradient-to-r ${ze(g)} hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex items-center gap-2`,onClick:jt,children:[((Ge=(Ve=re[g||""])==null?void 0:Ve.accents)==null?void 0:Ge[0])||"",e.jsx("span",{children:"Exportar .csv"})]})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"üßæ Log de IA (√∫ltimos 20)"}),ue.length===0?e.jsx("div",{className:"text-xs text-gray-500",children:"Nenhum relat√≥rio gerado ainda."}):e.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:ue.map((t,r)=>e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-xs text-gray-500",children:new Date(t.timestamp).toLocaleString()}),e.jsx("div",{className:"text-xs text-amber-700 mt-1",children:"Prompt & contexto"}),e.jsx("div",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:t.prompt}),e.jsx("div",{className:"text-xs text-amber-700 mt-2",children:"Relat√≥rio"}),e.jsx("div",{className:"text-xs text-gray-800 whitespace-pre-wrap",children:t.report})]},r))})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üîî Alertas Autom√°ticos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Masmorra"}),e.jsx("input",{className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:_,onChange:t=>St(t.target.value)}),e.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"Taxa de falha"}),e.jsxs("div",{className:"text-2xl text-gray-900",children:[(J*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:`text-sm ${J>.6?"text-red-700":"text-gray-600"}`,children:"Regra: falha > 60%"}),e.jsx("div",{className:`mt-2 p-3 rounded text-sm border ${J>.6?"border-red-300 text-red-800 bg-white":"border-gray-200 text-gray-700 bg-white"}`,children:J>.6?"Alerta: Ajustar dificuldade ou oferecer po√ß√µes/boosts.":"OK: Dentro do limite."})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Webhook (Discord/Telegram)"}),e.jsx("input",{className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"https://discordapp.com/api/webhooks/..."}),e.jsx("button",{className:"mt-2 px-3 py-2 bg-white text-purple-700 border border-purple-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Enviar teste"}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Exemplo de integra√ß√£o b√°sica via webhook."})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üë• Intera√ß√µes de NPC"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Dificuldade"}),e.jsxs("select",{defaultValue:w.npcInteractionDifficulty,onChange:t=>C({...M,npcInteractionDifficulty:t.target.value}),className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Modo de Notifica√ß√µes"}),e.jsxs("select",{defaultValue:w.npcNotificationsMode,onChange:t=>C({...M,npcNotificationsMode:t.target.value}),className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1",children:[e.jsx("option",{value:"off",children:"Desligado"}),e.jsx("option",{value:"compact",children:"Compacto"}),e.jsx("option",{value:"normal",children:"Normal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"M√°x. Notifica√ß√µes por tick"}),e.jsx("input",{type:"number",defaultValue:w.npcNotifyMaxPerTick,onChange:t=>C({...M,npcNotifyMaxPerTick:Number(t.target.value)}),className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Cooldown de Intera√ß√µes (s)"}),e.jsx("input",{type:"number",defaultValue:w.npcInteractionCooldownSeconds,onChange:t=>C({...M,npcInteractionCooldownSeconds:Number(t.target.value)}),className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Seed de NPCs"}),e.jsx("input",{type:"number",defaultValue:w.npcSeedTarget,onChange:t=>C({...M,npcSeedTarget:Number(t.target.value)}),className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Vis√≠veis no painel"}),e.jsx("input",{type:"number",defaultValue:w.npcVisibleCap,onChange:t=>C({...M,npcVisibleCap:Number(t.target.value)}),className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Rota√ß√£o (s)"}),e.jsx("input",{type:"number",defaultValue:w.npcRotationSeconds,onChange:t=>C({...M,npcRotationSeconds:Number(t.target.value)}),className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Conhecido ‚â•"}),e.jsx("input",{type:"number",defaultValue:w.npcRelationKnownThreshold,onChange:t=>C({...M,npcRelationKnownThreshold:Number(t.target.value)}),className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Amigo ‚â•"}),e.jsx("input",{type:"number",defaultValue:w.npcRelationFriendThreshold,onChange:t=>C({...M,npcRelationFriendThreshold:Number(t.target.value)}),className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Melhor Amigo ‚â•"}),e.jsx("input",{type:"number",defaultValue:w.npcRelationBestFriendThreshold,onChange:t=>C({...M,npcRelationBestFriendThreshold:Number(t.target.value)}),className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Rivalidade Moderada ‚â§"}),e.jsx("input",{type:"number",defaultValue:w.npcDuelRivalryModerate,onChange:t=>C({...M,npcDuelRivalryModerate:Number(t.target.value)}),className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Rivalidade Alta ‚â§"}),e.jsx("input",{type:"number",defaultValue:w.npcDuelRivalryHigh,onChange:t=>C({...M,npcDuelRivalryHigh:Number(t.target.value)}),className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Diferen√ßa m√°x. de n√≠vel"}),e.jsx("input",{type:"number",defaultValue:w.npcDuelLevelDiffMax,onChange:t=>C({...M,npcDuelLevelDiffMax:Number(t.target.value)}),className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-2 py-1"})]})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("button",{onClick:wt,className:"px-3 py-2 bg-white text-indigo-700 border border-indigo-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Aplicar ajustes"}),e.jsx("button",{onClick:()=>I(4),className:"px-3 py-2 bg-white text-red-700 border border-red-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Semear √≥dio aleat√≥rio"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üß± Modo Sandbox"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Eventos simulados"}),e.jsx("input",{type:"number",className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:Ae,onChange:t=>Mt(Math.max(1,Number(t.target.value)))})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Dungeon alvo"}),e.jsx("div",{className:"text-gray-900",children:_})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsx("button",{className:"w-full px-3 py-2 bg-white text-blue-700 border border-blue-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",onClick:Ct,children:"Simular jogadores/IA"})})]}),e.jsx("div",{className:"mt-3 text-xs text-gray-500",children:"Gera eventos de sucesso/fracasso para stressar m√©tricas e alertas."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"üîß Ferramentas de Administra√ß√£o"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Ajustar XP (aplicar ao her√≥i selecionado)"}),e.jsx("input",{type:"number",className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:K.xp,onChange:t=>Re(r=>({...r,xp:Number(t.target.value)})),disabled:!o})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Ajustar Ouro (aplicar ao her√≥i selecionado)"}),e.jsx("input",{type:"number",className:"w-full bg-white text-gray-900 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:K.gold,onChange:t=>Re(r=>({...r,gold:Number(t.target.value)})),disabled:!o})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 flex items-end",children:e.jsx("button",{className:"w-full px-3 py-2 bg-white text-amber-700 border border-amber-300 rounded hover:bg-gray-100 disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-indigo-500",onClick:yt,disabled:!o,children:"Aplicar ajustes"})})]}),e.jsx("div",{className:"mt-3 text-xs text-gray-500",children:"Nota: use estes controles para testes e balanceamento r√°pido sem afetar outros her√≥is."})]})]})}export{Yt as default};
//# sourceMappingURL=AdminDashboard-63e6dfee.js.map
