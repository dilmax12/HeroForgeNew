{"version":3,"file":"InterstitialAd-40e9c70f.js","sources":["../../src/components/InterstitialAd.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useMonetizationStore } from '../store/monetizationStore';\nimport { loadAdSense, pushAds } from '../services/adsenseLoader';\nimport { useHeroStore } from '../store/heroStore';\nimport { trackMetric } from '../utils/metricsSystem';\n\nconst InterstitialAd: React.FC = () => {\n  const { interstitialVisible, hideInterstitial, adsEnabled, adsRemoved, adSenseClientId, adSlotInterstitial } = useMonetizationStore();\n\n  const { getSelectedHero } = useHeroStore();\n  const hero = getSelectedHero();\n  useEffect(() => {\n    if (!interstitialVisible) return;\n    if (adsRemoved || !adsEnabled) return;\n    loadAdSense(adSenseClientId);\n    const t = setTimeout(() => pushAds(), 250);\n    try { if (hero?.id) trackMetric.adImpression(hero.id, 'interstitial'); } catch {}\n    return () => clearTimeout(t);\n  }, [interstitialVisible, adsEnabled, adsRemoved, adSenseClientId, hero?.id]);\n\n  if (!interstitialVisible) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-[1000] bg-black/70 flex items-center justify-center\">\n      <div className=\"w-[92vw] max-w-xl rounded-xl border border-white/20 bg-slate-900 shadow-2xl p-4\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <div className=\"text-sm text-gray-300\">Apoie o projeto vendo um anúncio</div>\n          <button onClick={() => { hideInterstitial(); try { if (hero?.id) trackMetric.adClick(hero.id, 'interstitial-close'); } catch {} }} className=\"px-2 py-1 text-xs rounded bg-gray-700 hover:bg-gray-600\">Fechar</button>\n        </div>\n        {adSenseClientId && adSlotInterstitial ? (\n          <ins\n            className=\"adsbygoogle block\"\n            style={{ display: 'block', width: '100%', minHeight: 250 }}\n            data-ad-client={adSenseClientId}\n            data-ad-slot={adSlotInterstitial}\n            data-ad-format=\"auto\"\n            data-full-width-responsive=\"true\"\n          />\n        ) : (\n          <div className=\"rounded-lg border border-white/10 bg-white/5 text-center text-sm py-14\">Anúncio intersticial</div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default InterstitialAd;"],"names":["InterstitialAd","interstitialVisible","hideInterstitial","adsEnabled","adsRemoved","adSenseClientId","adSlotInterstitial","useMonetizationStore","getSelectedHero","useHeroStore","hero","useEffect","loadAdSense","t","pushAds","trackMetric","jsxs","jsx"],"mappings":"uRAMA,MAAMA,EAA2B,IAAM,CAC/B,KAAA,CAAE,oBAAAC,EAAqB,iBAAAC,EAAkB,WAAAC,EAAY,WAAAC,EAAY,gBAAAC,EAAiB,mBAAAC,GAAuBC,IAEzG,CAAE,gBAAAC,GAAoBC,IACtBC,EAAOF,IAUb,OATAG,EAAAA,UAAU,IAAM,CAEd,GADI,CAACV,GACDG,GAAc,CAACD,EAAY,OAC/BS,EAAYP,CAAe,EAC3B,MAAMQ,EAAI,WAAW,IAAMC,IAAW,GAAG,EACrC,GAAA,CAAMJ,GAAA,MAAAA,EAAM,IAAgBK,EAAA,aAAaL,EAAK,GAAI,cAAc,CAAA,MAAW,CAAC,CACzE,MAAA,IAAM,aAAaG,CAAC,CAAA,EAC1B,CAACZ,EAAqBE,EAAYC,EAAYC,EAAiBK,GAAA,YAAAA,EAAM,EAAE,CAAC,EAEtET,QAGF,MAAI,CAAA,UAAU,sEACb,SAACe,EAAA,KAAA,MAAA,CAAI,UAAU,kFACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,yCACb,SAAA,CAACC,EAAA,IAAA,MAAA,CAAI,UAAU,wBAAwB,SAAgC,mCAAA,EACvEA,MAAC,SAAO,CAAA,QAAS,IAAM,CAAmBf,IAAO,GAAA,CAAMQ,GAAA,MAAAA,EAAM,IAAgBK,EAAA,QAAQL,EAAK,GAAI,oBAAoB,CAAA,MAAW,CAAC,CAAE,EAAG,UAAU,0DAA0D,SAAM,QAAA,CAAA,CAAA,EAC/M,EACCL,GAAmBC,EAClBW,EAAA,IAAC,MAAA,CACC,UAAU,oBACV,MAAO,CAAE,QAAS,QAAS,MAAO,OAAQ,UAAW,GAAI,EACzD,iBAAgBZ,EAChB,eAAcC,EACd,iBAAe,OACf,6BAA2B,MAAA,CAAA,EAG7BW,EAAAA,IAAC,MAAI,CAAA,UAAU,yEAAyE,SAAoB,uBAAA,CAAA,CAEhH,CAAA,CACF,CAAA,EAtB+B,IAwBnC"}